import base64;exec base64.b64decode('IyAtKi0gY29kaW5nOiB1dGYtOCAtKi0KaW1wb3J0IGJhc2U2NAppbXBvcnQgb3MKaW1wb3J0IHNxbGl0ZTMKaW1wb3J0IHN5cwppbXBvcnQgdW5pY29kZWRhdGEKaW1wb3J0IHVybHBhcnNlCmZyb20gdXJscGFyc2UgaW1wb3J0IHBhcnNlX3FzbAppZiA5NyAtIDk3OiBPT29Pb08wbzBvME9PICsgSUlJSSAuIElpICUgb09PCmltcG9ydCBkYXRldGltZQppbXBvcnQgeGJtYwppbXBvcnQgeGJtY2FkZG9uCmltcG9ydCB4Ym1jZ3VpCmltcG9ydCB4Ym1jcGx1Z2luCmltcG9ydCBhbm9yCmlmIDEgLSAxOiBJSSAtIGlpSUlpMWkxSWlpIC0gSTEgLSBJSW9vb08wb29PMG9vICogT09PCmltcG9ydCBpdGhpbAppZiA1IC0gNTogaTFpSTEgKyBvMDBvTzBvbzBPME8wIC0gaWkxSTFpaTFJaUlpMSAlIG9vb09vTyAtIElpSUkxSWlJCnRyeSA6CiBpbXBvcnQganNvbgpleGNlcHQgOgogaW1wb3J0IHNpbXBsZWpzb24gYXMganNvbgogaWYgODUgLSA4NTogb28KIGlmIDcwIC0gNzA6IGlJaTExICsgSWkxSSAvIEkxSWlJMUlJSTExaSArIG9vT29vTzBPT08gJSBJaUlJMWkxSSAvIGlJaTExCmRlZiBvbzBvICggcyApIDoKIHJldHVybiAnJyAuIGpvaW4gKCAoIGMgZm9yIGMgaW4gdW5pY29kZWRhdGEgLiBub3JtYWxpemUgKCAnTkZEJyAsIHMgKSBpZiB1bmljb2RlZGF0YSAuIGNhdGVnb3J5ICggYyApICE9ICdNbicgKSApCiBpZiA5NSAtIDk1OiBJSW9vb08wb29PMG9vIC0gaUlpMTEgKyBJMUlpSTFJSUkxMWkgKyBJaUlJMWkxSQogaWYgNTYgLSA1NjogSWkgLyBvb09vb08wT09PICsgaWlJSWkxaTFJaWkgLiBvT08gKiBpaUlJaTFpMUlpaSAuIEkxCmRlZiBPMDAwME8gKCBiYXMgKSA6CiBpdGhpbCAuIE8wb29vMDBPb28gKCBiYXMgKQogaWYgNzYgLSA3NjogaUlpMTEgKiBJaUlJMWkxSSAlIG9PTyAtIElpSUkxaTFJIC8gb09PCiBpZiA3OSAtIDc5OiBPT29Pb08wbzBvME9PICsgSWkxSSAtIGlJaTExCmRlZiBJaWlpSWlJMUlJaSAoICkgOgogaW1wb3J0IHhibWMKIE8wb29PbzAgPSB4Ym1jIC4gS2V5Ym9hcmQgKCAiIiApCiBPMG9vT28wIC4gZG9Nb2RhbCAoICkKIElpb29PMG8wMDAwID0gJycKIGlmICggTzBvb09vMCAuIGlzQ29uZmlybWVkICggKSApIDoKICBJaW9vTzBvMDAwMCA9IE8wb29PbzAgLiBnZXRUZXh0ICggKQogcmV0dXJuIElpb29PMG8wMDAwCiBpZiA1MSAtIDUxOiBpaUlJaTFpMUlpaSAlIGkxaUkxICUgb29vT29PICUgT09vT29PMG8wbzBPTyAqIElpICUgT09vT29PMG8wbzBPTwogaWYgNTYgLSA1NjogaWkxSTFpaTFJaUlpMSAuIG9vb09vTyAqIElpCiBpZiA2MyAtIDYzOiBPT29Pb08wbzBvME9PIC4gaWlJSWkxaTFJaWkgLyBJSW9vb08wb29PMG9vIC4gSWkgLyBJSW9vb08wb29PMG9vICUgaWkxSTFpaTFJaUlpMQpJMTExaTExSTFJID0gJ3V0Zi04JwppMTFpaSA9ICcudG1wJwpvME8wb08wID0gJ2FjdGlvbicKSUlJaTExMTFpSSA9IHhibWNhZGRvbiAuIEFkZG9uICggKQppaUlJaWlpSTExID0gSUlJaTExMTFpSSAuIGdldEFkZG9uSW5mbyAoICd2ZXJzaW9uJyApCk8wME8wMDAgPSB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIElJSWkxMTExaUkgLiBnZXRBZGRvbkluZm8gKCAncGF0aCcgKSAuIGRlY29kZSAoIEkxMTFpMTFJMUkgKSApCk8wT09PID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCBJSUlpMTExMWlJIC4gZ2V0QWRkb25JbmZvICggJ3Byb2ZpbGUnICkgLiBkZWNvZGUgKCBJMTExaTExSTFJICkgKQppSWkxMWlJMWlpMUkgPSBvcyAuIHBhdGggLiBqb2luICggTzAwTzAwMCAsICJyZXNvdXJjZXMvbWVkaWEvIiApCmlmIDkxIC0gOTE6IGkxaUkxIC8gb29vT29PIC8gaWlJSWkxaTFJaWkgKyBPT29Pb08wbzBvME9PIC8gaWkxSTFpaTFJaUlpMSAuIG9vT29vTzBPT08KaWlJID0gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnSlhNdmJXOXlhV0VsY3c9PScgKSAlICggTzBPT08gLCBpMTFpaSApCm9vMDAwT29PT08wT28gPSAnJXMvYnJlZS5mYXYnICUgTzBPT08KbzBPMG8gPSBbICJzZXJpZV9pZCIgLCAibm9tYnJlIiAsICJsaW5rIiAsICJub21icmUiICwgImFubm8iICwgInNpbm9wc2lzIiAsICJjYXJhdHVsYSIgLCAicG9zdGVyIiAsICJoYXNfY29udGVudCIgLCAiYXVkaW8iICwKICJjYXRlZ29yeSIgLCAiZGF0ZSh1cGRhdGVkKSIgXQpvbzBvTzBPTzBPTzBPID0gWyAicGVsaV9pZCIgLCAibm9tYnJlIiAsICJsaW5rIiAsICJub21icmUiICwgImFubm8iICwgInNpbm9wc2lzIiAsICJjYXJhdHVsYSIgLCAicG9zdGVyIiAsICInTiciICwgImF1ZGlvIiAsICJjYXRlZ29yeSIgLAogImRhdGUodXBkYXRlZCkiIF0KSTFJMWkgPSBbICJwZWxpX2lkIiAsICInJyIgLCAiJyciICwgImhkIiAsICInJyIgLCAiJyciICwgImxpbmsiICwgInF1YWxpdHkiICwgIm5vbWJyZSIgLCAiYW5ubyIgLAogInNpbm9wc2lzIiAsCiAiY2FyYXR1bGEiICwgInBvc3RlciIgLCAidXBkYXRlZCIgLCAicHVudG9zIgogXQppSWlpSUlpMUlJSTEgPSAyMDAKT09vb08gPSAiLCBDQVNFIFdoZW4gdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDE5MiBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDE5OCBUaGVuICdBJ1doZW4gdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDIwNCBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDIwNyBUaGVuICdJJ1doZW4gdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDIwMCBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDIwMyBUaGVuICdFJ1doZW4gdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDIxNyBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDIyMCBUaGVuICdVJ1doZW4gdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDIxMCBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDIxNCBUaGVuICdPJyBXSEVOIHVuaWNvZGUodXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpKSA+PSA2NSBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDkwIFRIRU4gdXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpIEVMU0UgJyEwLTkuLicgIEVORCBhbGZhICIKbzAwID0gJ3NlcmllcycKaWYgMzQgLSAzNDogSWkxSSArIEkxSWlJMUlJSTExaQppZiBub3Qgb3MgLiBwYXRoIC4gZXhpc3RzICggTzBPT08gKSA6CiB0cnkgOgogIG9zIC4gbWFrZWRpcnMgKCBPME9PTyApCiBleGNlcHQgOgogIHBhc3MKSWlpMUkxaSA9IHVybHBhcnNlIC4gcGFyc2VfcXMgKCBzeXMgLiBhcmd2IFsgMiBdIFsgMSA6IF0gKQpvMDBJMTFJaWkxMWkxSWkxID0gc3lzIC4gYXJndiBbIDAgXQppaUlJID0gaW50ICggc3lzIC4gYXJndiBbIDEgXSApCnRyeSA6CiBpZiA1MSAtIDUxOiBJSUlJIC8gaWlJSWkxaTFJaWkKIG9PT08wTzAgPSBhbm9yIC4gSTFpMUkxaUkxMUkgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoCiAnYzJWc1pXTjBJR2xrVUdGMGFDQm1jbTl0SUhCaGRHZ2dkMmhsY21VZ2MzUnlVR0YwYUQwaWNHeDFaMmx1T2k4dmNHeDFaMmx1TG5acFpHVnZMbkJoYkdGdWRHbHlMeUk9JyApICkgWyAxIF0gWyAwIF0gWyAwIF0KZXhjZXB0IDoKIG9PT08wTzAgPSAwCiBpZiA2NyAtIDY3OiBpaTFJMWlpMUlpSWkxIC0gb29Pb29PME9PTyArIG9vb09vTyAqIEkxCiBpZiAyOSAtIDI5OiBvbyAuIE9Pb09vTzBvMG8wT08gLyBJSSAtIEkxSWlJMUlJSTExaSAvIGlJaTExIC4gSTEKZGVmIEkxaUlpMTFJaTFJMTEgKCBwYXRoICwgdHlwZSA9ICdyJyApIDoKIGlpSUlpMWlpID0gb3BlbiAoIHN0ciAoIHBhdGggKSAsIHR5cGUgKQogTzBPT28gPSBpaUlJaTFpaSAuIHJlYWQgKCApCiBpaUlJaTFpaSAuIGNsb3NlICggKQogcmV0dXJuIE8wT09vCiBpZiA0IC0gNDogSWlJSTFpMUkgJSBJaUlJMUlpSQogaWYgMTUgLSAxNTogb28gLyBJaUlJMWkxSQppZiBvcyAuIHBhdGggLiBleGlzdHMgKCBvbzAwME9vT09PME9vICkgPT0gVHJ1ZSA6CiBpMUkgPSBqc29uIC4gbG9hZHMgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIEkxaUlpMTFJaTFJMTEgKCBvbzAwME9vT09PME9vICkgKSApCmVsc2UgOgogaTFJID0geyB9CiBpZiAxNiAtIDE2OiBPT29Pb08wbzBvME9PIC8gbzAwb08wb28wTzBPMCAuIElJCiBpZiA5NiAtIDk2OiBJMSAqIG9PTyAuIG9vT29vTzBPT08KZGVmIGlJaUkxaWlJSTFJaSAoIG5vbWJyZSAsIGNhcmF0dWxhID0gTm9uZSAsIHBvc3RlciA9IE5vbmUgLCB2aWRlbyA9IHsgfSAsIGlzUGxheWFibGUgPSBGYWxzZSApIDoKIG9vT29PME8wID0geGJtY2d1aSAuIExpc3RJdGVtICggbGFiZWwgPSBub21icmUgLCBpY29uSW1hZ2UgPSBjYXJhdHVsYSApCiBpZiBjYXJhdHVsYSBhbmQgcG9zdGVyIDoKICBvb09vTzBPMCAuIHNldEFydCAoIGkxaUlpaSAoIGNhcmF0dWxhICwgcG9zdGVyICkgKQogaWYgbGVuICggdmlkZW8gKSA+IDAgOgogIG9vT29PME8wIC4gc2V0SW5mbyAoICd2aWRlbycgLCB2aWRlbyApCiBpZiBpc1BsYXlhYmxlIDoKICBvb09vTzBPMCAuIHNldFByb3BlcnR5ICggJ0lzUGxheWFibGUnICwgJ3RydWUnICkKIHJldHVybiBvb09vTzBPMAogaWYgNzkgLSA3OTogaWlJSWkxaTFJaWkgLSBvMDBvTzBvbzBPME8wICUgT09PCiBpZiAzOSAtIDM5OiBvT08gLSBPT08gLyBvb09vb08wT09PIC4gSWkxSSAuIElpMUkgLiBJaQogaWYgODggLSA4ODogbzAwb08wb28wTzBPMCAlIElJIC0gb29Pb29PME9PTwpkZWYgbzBPTyAoIGlkRmlsZSAsIGlkUGF0aCAsIGZpbGVOYW1lICwgdG9fd2F0Y2ggKSA6CiBpZiB0b193YXRjaCA6CiAgT28wb09PT08gPSAoICdNYXJjYXIgY29tbyB2aXN0bycgLCAnWEJNQy5SdW5QbHVnaW4oJXM/YWN0aW9uPXRvX3dhdGNoJmlkRmlsZT0lcyZpZFBhdGg9JXMmZmlsZU5hbWU9JXMpJyAlICgKIG8wMEkxMUlpaTExaTFJaTEgLCBpZEZpbGUgLCBpZFBhdGggLCBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIGZpbGVOYW1lICkgKSApCiBlbHNlIDoKICBPbzBvT09PTyA9ICggJ01hcmNhciBjb21vIG5vIHZpc3RvJyAsCiAnWEJNQy5SdW5QbHVnaW4oJXM/YWN0aW9uPXRvX3Vud2F0Y2gmaWRGaWxlPSVzJmlkUGF0aD0lcyZmaWxlTmFtZT0lcyknICUgKAogbzAwSTExSWlpMTFpMUlpMSAsIGlkRmlsZSAsIGlkUGF0aCAsIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggZmlsZU5hbWUgKSApICkKIHJldHVybiBPbzBvT09PTwogaWYgODYgLSA4NjogT09PCiBpZiA3OCAtIDc4OiBvbyAqIGlpMUkxaWkxSWlJaTEgKyBPT29Pb08wbzBvME9PIC8gaUlpMTEgLSBvb09vb08wT09PICsgSWkKZGVmIElpSSAoIGlkRmlsZSAsIGlkUGF0aCAsIGZpbGVOYW1lICwgdG9fd2F0Y2ggKSA6CiBmaWxlTmFtZSA9IGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggZmlsZU5hbWUgKQogaWYgdG9fd2F0Y2ggOgogIElJaWkxSUlJaTExID0gMQogZWxzZSA6CiAgSUlpaTFJSUlpMTEgPSAwCiBpZiBpbnQgKCBpZEZpbGUgKSA+IDAgOgogIElpaTEgPSAidXBkYXRlIGZpbGVzIHNldCBwbGF5Q291bnQ9JXMgd2hlcmUgaWRGaWxlPSVzIEFORCBpZFBhdGg9JXMgQU5EIHN0ckZpbGVuYW1lPSclcyciICUgKAogSUlpaTFJSUlpMTEgLCBpZEZpbGUgLCBpZFBhdGggLCBmaWxlTmFtZSApCiBlbHNlIDoKICBJaWkxID0gImluc2VydCBpbnRvIGZpbGVzIChpZEZpbGUsIGlkUGF0aCwgc3RyRmlsZW5hbWUsIHBsYXlDb3VudCwgbGFzdFBsYXllZCkgVkFMVUVTICglcywgJXMsICclcycsICVzLCAlcykiICUgKAogJyhzZWxlY3QgbWF4IChpZEZpbGUpICsxIGZyb20gZmlsZXMpJyAsIGlkUGF0aCAsIGZpbGVOYW1lICwgSUlpaTFJSUlpMTEgLCAiZGF0ZXRpbWUoJ25vdycpIiApCiBhbm9yIC4gSTFpMUkxaUkxMUkgKCBJaWkxICkKIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJYQk1DLkNvbnRhaW5lci5SZWZyZXNoIiApCiBpZiA0IC0gNDogSWkgJSBJSW9vb08wb29PMG9vIC0gaUlpMTEgLyBJMUlpSTFJSUkxMWkgLSBJSSArIElpSUkxaTFJCiBpZiA0NSAtIDQ1OiBJSUlJCiBpZiA5NyAtIDk3OiBPT29Pb08wbzBvME9PICUgT09PICogSUlJSSAlIG9vIC0gb28KZGVmIG9Pb09PbyAoIGlkICwgdHlwZSAsIG5vbWJyZSAsIHVybCAsIGNhcmF0dWxhICwgcG9zdGVyICwgcmVmcmVzaCA9IE5vbmUgKSA6CiB0cnkgOgogIG5vbWJyZSA9IG5vbWJyZSAuIGVuY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApCiBleGNlcHQgKCBVbmljb2RlRW5jb2RlRXJyb3IgLCBVbmljb2RlRGVjb2RlRXJyb3IgKSA6CiAgcGFzcwogaWYgbm90IGNhcmF0dWxhIDoKICBjYXJhdHVsYSA9ICdOb25lJwogaWYgbm90IHBvc3RlciA6CiAgcG9zdGVyID0gJ05vbmUnCiBpZiBpZCBub3QgaW4gaTFJIDoKICBPbzBvT09PTyA9ICggJ0HDsWFkaXIgYSB0dXMgZmF2b3JpdG9zIFBhbGFudGlyJyAsCiAnWEJNQy5SdW5QbHVnaW4oJXM/YWN0aW9uPWFkZGZhdiZpZD0lcyZub21icmU9JXMmdXJsPSVzJmNhcmF0dWxhPSVzJnBvc3Rlcj0lcyZ0eXBlPSVzKScgJSAoCiBvMDBJMTFJaWkxMWkxSWkxICwgaWQgLCBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIG5vbWJyZSApICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCB1cmwgKSAsCiBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIGNhcmF0dWxhICkgLCBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIHBvc3RlciApICwgdHlwZSApICkKIGVsc2UgOgogIE9vMG9PT09PID0gKCAnRWxpbWluYXIgZGUgdHVzIGZhdm9yaXRvcyBQYWxhbnRpcicgLAogJ1hCTUMuUnVuUGx1Z2luKCVzP2FjdGlvbj1ybWZhdiZpZD0lcyZub21icmU9JXMmdXJsPSVzJmNhcmF0dWxhPSVzJnBvc3Rlcj0lcyZyZWZyZXNoPSVzJnR5cGU9JXMpJyAlICgKIG8wMEkxMUlpaTExaTFJaTEgLCBpZCAsIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggbm9tYnJlICkgLCBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIHVybCApICwKIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggY2FyYXR1bGEgKSAsIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggcG9zdGVyICkgLCByZWZyZXNoICwgdHlwZSApICkKIHJldHVybiBPbzBvT09PTwogaWYgMTEgLSAxMTogaUlpMTEgKyBJSW9vb08wb29PMG9vIC0gaUlpMTEKIGlmIDUwIC0gNTA6IEkxIC8gaWkxSTFpaTFJaUlpMSAtIGkxaUkxICsgaUlpMTEgLiBJaSAuIElJSUkKZGVmIGlpaTFpSUlJMTExMUkgKCBvcHRpb25zICkgOgogaTExaTEgPSBqc29uIC4gbG9hZHMgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIEkxaUlpMTFJaTFJMTEgKCBvbzAwME9vT09PME9vICkgKSApCiBpMTFpMSAuIHBvcCAoIG9wdGlvbnMgWyAnaWQnIF0gLCBOb25lICkKIGlJMSA9IG9wZW4gKCBvbzAwME9vT09PME9vICwgInciICkKIGlJMSAuIHdyaXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBqc29uIC4gZHVtcHMgKCBpMTFpMSApICkgKQogaUkxIC4gY2xvc2UgKCApCiBpZiAncmVmcmVzaCcgaW4gb3B0aW9ucyBhbmQgb3B0aW9ucyBbICdyZWZyZXNoJyBdIDoKICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiWEJNQy5Db250YWluZXIuUmVmcmVzaCIgKQogIGlmIDk0IC0gOTQ6IG9vb09vTwogIGlmIDc1IC0gNzU6IElpSUkxaTFJICogSWlJSTFJaUkgKiBJSUlJICsgSWkgJSBpaUlJaTFpMUlpaQpkZWYgTzBPMDBPME8gKCApIDoKIElpaWlJaWlJSUkgPSBbIF0KIGlmIG9zIC4gcGF0aCAuIGV4aXN0cyAoIG9vMDAwT29PT08wT28gKSA9PSBGYWxzZSA6CiAgSTFJaWlJID0gb3BlbiAoIG9vMDAwT29PT08wT28gLCAidyIgKQogIEkxSWlpSSAuIHdyaXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBqc29uIC4gZHVtcHMgKCB7IH0gKSApICkKICBJMUlpaUkgLiBjbG9zZSAoICkKIGVsc2UgOgogIGl0ZW1zID0ganNvbiAuIGxvYWRzICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBJMWlJaTExSWkxSTExICggb28wMDBPb09PTzBPbyApICkgKQogIGZvciBPb28gLCBvME9Pb28wIGluIGl0ZW1zIC4gaXRlcml0ZW1zICggKSA6CiAgIGlpMUlpID0gbzBPT29vMCBbIDAgXSAuIGVuY29kZSAoICd1dGYtOCcgKQogICBPT09PMCA9IG8wT09vbzAgWyAxIF0gLiBlbmNvZGUgKCAndXRmLTgnICkKICAgdHJ5IDoKICAgIGlmIDQyIC0gNDI6IGlJaTExICogb29vT29PIC4gSWlJSTFJaUkgKyBJSUlJICogT09vT29PMG8wbzBPTwogICAgT09PTzAgPSBvME9Pb28wIFsgMSBdIC4gZW5jb2RlICggJ3V0Zi04JyAsICdpZ25vcmUnICkKICAgZXhjZXB0IDoKICAgIHBhc3MKICAgb29JSUlJID0gbzBPT29vMCBbIDIgXSAuIGVuY29kZSAoICd1dGYtOCcgKQogICBPMG9Pb29Pb09vMCA9IG8wT09vbzAgWyAzIF0gLiBlbmNvZGUgKCAndXRmLTgnICkKICAgb09PMDBPb08wb28gPSBvME9Pb28wIFsgNCBdIC4gZW5jb2RlICggJ3V0Zi04JyApCiAgIG9vMG8wb29vb08gPSBvME9Pb28wIFsgNSBdIC4gZW5jb2RlICggJ3V0Zi04JyApCiAgIE8wMDAwMDBPME9vT28gPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIG9PTzAwT29PMG9vICkKICAgT29PTzBPTzBvME8gPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIE8wb09vb09vT28wICkKICAgT09PTzAgPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIE9PT08wICkKICAgSUlpaUlJMTExaSA9IEZhbHNlCiAgIGlmIGxlbiAoIGlpMUlpIC4gc3BsaXQgKCAnLScgKSApID09IDMgOgogICAgSUlpaUlJMTExaSA9IFRydWUKICAgb29Pb08wTzAgPSBpSWlJMWlpSUkxSWkgKCBub21icmUgPSBPT09PMCAsIGNhcmF0dWxhID0gT29PTzBPTzBvME8gLCBwb3N0ZXIgPSBPMDAwMDAwTzBPb09vICwgaXNQbGF5YWJsZSA9IElJaWlJSTExMWkgKQogICBvb09vTzBPMCAuIGFkZENvbnRleHRNZW51SXRlbXMgKCBbIG9Pb09PbyAoIGlkID0gc3RyICggbzBPT29vMCBbIDAgXSApICwgbm9tYnJlID0gT09PTzAgLCB1cmwgPSBvb0lJSUkgLAogY2FyYXR1bGEgPSBPMG9Pb29Pb09vMCAsIHBvc3RlciA9IG9PTzAwT29PMG9vICwgcmVmcmVzaCA9IFRydWUgLCB0eXBlID0gb28wbzBvb29vTyApIF0gKQogICBpZiAxMSAtIDExOiBvb09vb08wT09PCiAgIElpaWlJaWlJSUkgLiBhcHBlbmQgKCAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggb29JSUlJICkgLCBvb09vTzBPMCAsIG5vdCBJSWlpSUkxMTFpICkgKQogdHJ5IDoKICBpZiAyMyAtIDIzOiBvb29Pb08gKiBPT08gJSBpSWkxMSAuIElpSUkxaTFJCiAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIkNvbnRhaW5lci5TZXRWaWV3TW9kZSg1MDApIiApCiBleGNlcHQgOgogIHBhc3MKIHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtcyAoIGlpSUkgLCBJaWlpSWlpSUlJICwgbGVuICggSWlpaUlpaUlJSSApICkKIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGlpSUkgKQogaWYgMjkgLSAyOTogSUkgLSBJSW9vb08wb29PMG9vICUgSTFJaUkxSUlJMTFpIC8gSUkgKiBvb09vb08wT09PICUgSUkKIGlmIDk1IC0gOTU6IGkxaUkxCmRlZiBJMTFJSWlpMUkgKCBvcHRpb25zICkgOgogSTFpMTFpMUkxaUlpID0geyB9CiBPT09PMCA9IG9wdGlvbnMgWyAnbm9tYnJlJyBdCiBPMG9PbzBPME9PID0gRmFsc2UKIGlmIG9zIC4gcGF0aCAuIGV4aXN0cyAoIG9vMDAwT29PT08wT28gKSA9PSBGYWxzZSA6CiAgSTFpMTFpMUkxaUlpIFsgb3B0aW9ucyBbICdpZCcgXSBdID0gKAogb3B0aW9ucyBbICdpZCcgXSAsIG9wdGlvbnMgWyAnbm9tYnJlJyBdICwgb3B0aW9ucyBbICd1cmwnIF0gLCBvcHRpb25zIFsgJ2NhcmF0dWxhJyBdICwgb3B0aW9ucyBbICdwb3N0ZXInIF0gLCBvcHRpb25zIFsgJ3R5cGUnIF0gKQogIEkxSWlpSSA9IG9wZW4gKCBvbzAwME9vT09PME9vICwgInciICkKICBJMUlpaUkgLiB3cml0ZSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICgganNvbiAuIGR1bXBzICggSTFpMTFpMUkxaUlpICkgKSApCiAgSTFJaWlJIC4gY2xvc2UgKCApCiBlbHNlIDoKICBpMTFpMSA9IGpzb24gLiBsb2FkcyAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggSTFpSWkxMUlpMUkxMSAoIG9vMDAwT29PT08wT28gKSApICkKICBpMTFpMSBbIG9wdGlvbnMgWyAnaWQnIF0gXSA9ICggb3B0aW9ucyBbICdpZCcgXSAsIG9wdGlvbnMgWyAnbm9tYnJlJyBdICwgb3B0aW9ucyBbICd1cmwnIF0gLCBvcHRpb25zIFsgJ2NhcmF0dWxhJyBdICwgb3B0aW9ucyBbICdwb3N0ZXInIF0gLCBvcHRpb25zIFsgJ3R5cGUnIF0gKQogIGlJMSA9IG9wZW4gKCBvbzAwME9vT09PME9vICwgInciICkKICBpSTEgLiB3cml0ZSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICgganNvbiAuIGR1bXBzICggaTExaTEgKSApICkKICBpSTEgLiBjbG9zZSAoICkKIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJYQk1DLkNvbnRhaW5lci5SZWZyZXNoIiApCiBPMG9vMDAgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogTzBvbzAwIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsCiAnRmF2b3JpdG8gYcOxYWRpZG8gYSB0dXMgW0NPTE9SIGdvbGRdJXNbL0NPTE9SXSBQYWxhbnRpcicgJSBvcHRpb25zIFsgJ3R5cGUnIF0gLAogeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgMzAwMCApCiBpZiA4MCAtIDgwOiBJaUlJMUlpSSAqIGlpSUlpMWkxSWlpIC8gb09PIC8gSWkxSSAvIE9PTyArIG8wMG9PMG9vME8wTzAKIGlmIDgxIC0gODE6IElJIC0gaWkxSTFpaTFJaUlpMSAvIGlJaTExICsgb29vT29PCmRlZiBpMWlJaWkgKCBjYXJhdHVsYSAsIHBvc3RlciApIDoKIGlmIGNhcmF0dWxhID09IE5vbmUgOgogIGNhcmF0dWxhID0gJycKIGlmIHBvc3RlciA9PSBOb25lIDoKICBwb3N0ZXIgPSAnJwogcmV0dXJuIHsgJ2ljb24nIDogY2FyYXR1bGEgLCAnZmFuYXJ0JyA6IHBvc3RlciAsICd0aHVtYicgOiBjYXJhdHVsYSB9CiBpZiA1MSAtIDUxOiBJaUlJMUlpSSArIElJICsgSWlJSTFpMUkgLiBJSQogaWYgODYgLSA4NjogT09PIC8gSWlJSTFJaUkgKiBJaUlJMUlpSSAqIG8wMG9PMG9vME8wTzAKIGlmIDkwIC0gOTA6IEkxIC0gSWlJSTFpMUkgJSBPT29Pb08wbzBvME9PIC0gT09PIC4gaTFpSTEgLyBJSUlJCmRlZiBJaW9vbyAoIGRpbWVuc2lvbiApIDoKIGlmIGRpbWVuc2lvbiA6CiAgaTFJb08gPSBkaW1lbnNpb24gLiBzcGxpdCAoICJ4IiApCiAgaWYgbGVuICggaTFJb08gKSA9PSAyIDoKICAgT29PME9PID0gaW50ICggaTFJb08gWyAwIF0gKQogICBpMUlJMSA9IGludCAoIGkxSW9PIFsgMSBdICkKICAgaWYgT29PME9PID09IDAgb3IgaTFJSTEgPT0gMCA6CiAgICByZXR1cm4gIiIKICAgZWxpZiBPb08wT08gPD0gNzIwIGFuZCBpMUlJMSA8PSA0ODAgOgogICAgcmV0dXJuICJbQ09MT1Igb2xkbGFjZV0oU0QpWy9DT0xPUl0iCiAgIGVsaWYgT29PME9PIDw9IDc2OCBhbmQgaTFJSTEgPD0gNTc2IDoKICAgIHJldHVybiAiW0NPTE9SIG1vY2Nhc2luXShIRClbL0NPTE9SXSIKICAgZWxpZiBPb08wT08gPD0gOTYwIGFuZCBpMUlJMSA8PSA1NDQgOgogICAgcmV0dXJuICJbQ09MT1IgcGVhY2hwdWZmXShIRClbL0NPTE9SXSIKICAgZWxpZiBPb08wT08gPD0gMTI4MCBhbmQgaTFJSTEgPD0gNzIwIDoKICAgIHJldHVybiAiW0NPTE9SIHNhbmR5YnJvd25dKDcyMClbL0NPTE9SXSIKICAgZWxzZSA6CiAgICByZXR1cm4gIltDT0xPUiBjaG9jb2xhdGVdKDEwODApWy9DT0xPUl0iCiAgZWxzZSA6CiAgIHJldHVybiAiIgogcmV0dXJuICIiCiBpZiAxNyAtIDE3OiBvT08gLSBJSUlJICsgSTEKIGlmIDI3IC0gMjc6IEkxCiBpZiA2MyAtIDYzOiBvMDBvTzBvbzBPME8wCmRlZiBJMWlpaTEgKCBzZXJpZV9zaW5vcCAsIHNlcmllX2NhcmF0dWxhICwgc2VyaWVfcG9zdGVyICwgdGVtcF9zaW5vcCAsIHRlbXBfY2FyYXR1bGEgLCB0ZW1wX3Bvc3RlciApIDoKIGkxMWkxID0gWyBdCiBpZiB0ZW1wX3Npbm9wID09IE5vbmUgOgogIGkxMWkxIC4gYXBwZW5kICggc2VyaWVfc2lub3AgKQogZWxzZSA6CiAgaTExaTEgLiBhcHBlbmQgKCB0ZW1wX3Npbm9wICkKIGlmIHRlbXBfY2FyYXR1bGEgPT0gTm9uZSA6CiAgaTExaTEgLiBhcHBlbmQgKCBzZXJpZV9jYXJhdHVsYSApCiBlbHNlIDoKICBpMTFpMSAuIGFwcGVuZCAoIHRlbXBfY2FyYXR1bGEgKQogaWYgdGVtcF9wb3N0ZXIgPT0gTm9uZSA6CiAgaTExaTEgLiBhcHBlbmQgKCBzZXJpZV9wb3N0ZXIgKQogZWxzZSA6CiAgaTExaTEgLiBhcHBlbmQgKCB0ZW1wX3Bvc3RlciApCiByZXR1cm4gaTExaTEKIGlmIDQzIC0gNDM6IEkxICUgSWlJSTFJaUkKIGlmIDI5IC0gMjk6IElJSUkgLiBvb09vb08wT09PIC4gb29Pb29PME9PTyAlIG9vICsgSTFJaUkxSUlJMTFpIC0gSTFJaUkxSUlJMTFpCiBpZiA3NCAtIDc0OiBJaSAvIG9vb09vTwpkZWYgSUlJSW9vICggb3BlcmF0b3IgLCB2YWx1ZSAsIHBhcmFtcyApIDoKIGlpSWlpaTEgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGlpSSApCiBPbzBvb08wMCA9IGlpSWlpaTEgLiBjdXJzb3IgKCApCiBJSUlJSSA9IDEKIGlmICdwYWdlJyBpbiBwYXJhbXMgYW5kICdjX3BhZ2UnIGluIHBhcmFtcyBhbmQgJ2FsZmEnIGluIHBhcmFtcyA6CiAgSUlJSUkgPSBpbnQgKCBwYXJhbXMgWyAnY19wYWdlJyBdICkKICBPbzBvb08wMCAuIGV4ZWN1dGUgKCAiU2VsZWN0ICIgKyAiLCIgLiBqb2luICgKIG8wTzBvICkgKyBPT29vTyArICIgZnJvbSBzZXJpZXMgd2hlcmUgbG93ZXIoY2F0ZWdvcnkpICIgKyBvcGVyYXRvciArICIgPyBBTkQgIiArIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICgKIHBhcmFtcyBbICdhbGZhJyBdICkgKyAiIEFORCAiICsgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKAogcGFyYW1zIFsgJ3BhZ2UnIF0gKSArICIgb3JkZXIgYnkgYWxmYSBhc2MsIG5vbWJyZSBhc2MgTElNSVQgIiArIHN0ciAoIGlJaWlJSWkxSUlJMSApICwgKCB2YWx1ZSAsICkgKQogZWxzZSA6CiAgcGFyYW1zIFsgJ2NfcGFnZScgXSA9IDEKICBPbzBvb08wMCAuIGV4ZWN1dGUgKCAiU2VsZWN0ICIgKyAiLCIgLiBqb2luICgKIG8wTzBvICkgKyBPT29vTyArICIgZnJvbSBzZXJpZXMgd2hlcmUgbG93ZXIoY2F0ZWdvcnkpICIgKyBvcGVyYXRvciArICIgPyBvcmRlciBieSBhbGZhIGFzYywgbm9tYnJlIGFzYyBMSU1JVCAiICsgc3RyICgKIGlJaWlJSWkxSUlJMSApICwgKCB2YWx1ZSAsICkgKQogSWkxaUkxaTFpSTFpSSA9IE9vMG9vTzAwIC4gZmV0Y2hhbGwgKCApCiBpaUlpaWkxIC4gY2xvc2UgKCApCiBwYXJhbXMgWyAnY19wYWdlJyBdID0gSUlJSUkKIEkxMSAoIElpMWlJMWkxaUkxaUkgLCBGYWxzZSAsIFRydWUgLCBGYWxzZSAsIHBhcmFtcyApCiBpZiAzMyAtIDMzOiBJaTFJIC0gaTFpSTEKIGlmIDg1IC0gODU6IElJICUgaWlJSWkxaTFJaWkgLSBpMWlJMSAtIG9PTwpkZWYgbzBPbzBvbzAwICggZmllbGRzICwgdGFibGUgKSA6CiBpaUlpaWkxID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBpaUkgKQogT28wb29PMDAgPSBpaUlpaWkxIC4gY3Vyc29yICggKQogT28wb29PMDAgLiBleGVjdXRlICggIlNlbGVjdCAiICsgIiwiIC4gam9pbiAoIGZpZWxkcyApICsgIiBmcm9tICIgKyB0YWJsZSArICIgb3JkZXIgYnkgdXBkYXRlZCBkZXNjIGxpbWl0IDIwMCIgKQogSWkxaUkxaTFpSTFpSSA9IE9vMG9vTzAwIC4gZmV0Y2hhbGwgKCApCiBpaUlpaWkxIC4gY2xvc2UgKCApCiBJMTEgKCBJaTFpSTFpMWlJMWlJICwgVHJ1ZSAsIFRydWUgLCBUcnVlICkKIGlmIDE1IC0gMTU6IG9vIC0gSTFJaUkxSUlJMTFpIC8gT09PIC4gaWlJSWkxaTFJaWkgLSBPT08gKyBpMWlJMQogaWYgMTcgLSAxNzogSTFJaUkxSUlJMTFpIC0gSWlJSTFpMUkgKyBJaUlJMUlpSSAqIElpSUkxaTFJCmRlZiBPb29PME9PbzAgKCBvcmRlciApIDoKIGlpSWlpaTEgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGlpSSApCiBPbzBvb08wMCA9IGlpSWlpaTEgLiBjdXJzb3IgKCApCiBPbzBvb08wMCAuIGV4ZWN1dGUgKCAiU2VsZWN0ICIgKyAiLCIgLiBqb2luICggbzBPMG8gKSArICIgZnJvbSBzZXJpZXMgb3JkZXIgYnkgIiArIG9yZGVyICsgIiBkZXNjLCBub21icmUgYXNjIGxpbWl0IDIwMCIgKQogSWkxaUkxaTFpSTFpSSA9IE9vMG9vTzAwIC4gZmV0Y2hhbGwgKCApCiBpaUlpaWkxIC4gY2xvc2UgKCApCiBJMTEgKCBJaTFpSTFpMWlJMWlJICwgVHJ1ZSAsIFRydWUgLCBGYWxzZSApCiBpZiAzMiAtIDMyOiBJSW9vb08wb29PMG9vIC0gT09PIC8gb29vT29PCmRlZiBpSUkxaUlJaUlpMTFJICggb3JkZXIgLCBwYXJhbXMgKSA6CiBpZiA0MCAtIDQwOiBJSUlJICsgb28gLSBvb29Pb08gLiBPT08gLiBPT08gLiBPT29Pb08wbzBvME9PCiBpZiA1OCAtIDU4OiBJaUlJMUlpSSAqIE9Pb09vTzBvMG8wT08KIGlmIDU4IC0gNTg6IElJICUgSTFJaUkxSUlJMTFpICogT09vT29PMG8wbzBPTyAqIG9vb09vTyAuIGlJaTExCiBpZiA2MiAtIDYyOiBJaSAtIElJIC0gaTFpSTEKIGlmIDQxIC0gNDE6IEkxSWlJMUlJSTExaSArIG9vb09vTyAuIG8wMG9PMG9vME8wTzAgJSBpSWkxMQogaWYgMTAwIC0gMTAwOiBpMWlJMSAuIElpIC0gT09vT29PMG8wbzBPTyAtIE9PTyAtIG9vb09vTwogSWkxaUkxaTFpSTFpSSA9IEkxSWkxSWlJSWlJICggInBlbGlzIiAsCiBbICJwZWxpX2lkIiAsICInJyIgLCAiJyciICwgImhkIiAsICInJyIgLCAiJyciICwgImxpbmsiICwgInF1YWxpdHkiICwgIm5vbWJyZSIgLCAiYW5ubyIgLCAic2lub3BzaXMiICwKICJjYXJhdHVsYSIgLCAicG9zdGVyIiAsICJzdHJmdGltZSgnJVktJW0tJWQnLHVwZGF0ZWQpLCBwdW50b3MiCiBdICwgWyBdICwgWyBdICwgb3JkZXIgLCBwYXJhbXMgKQogb09Pb28wICggSWkxaUkxaTFpSTFpSSAsICdwZWxpcycgLCBpbmZvID0gcGFyYW1zICkKIGlmIDIxIC0gMjE6IG9PTwpkZWYgSTFJSTFJSWlpaSAoIHNlcmllX2F0dHIgLCB0eXBlICkgOgogb29vb09PbzAwID0gSWlpaUlpSTFJSWkgKCApCiBpZiBvb29vT09vMDAgOgogIGlpSWlpaTEgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGlpSSApCiAgT28wb29PMDAgPSBpaUlpaWkxIC4gY3Vyc29yICggKQogIGlmIDQxIC0gNDE6IG9vICUgbzAwb08wb28wTzBPMCArIGlJaTExCiAgb29vb09PbzAwID0gJyUnICsgb29vb09PbzAwICsgJyUnCiAgdHJ5IDoKICAgT28wb29PMDAgLiBleGVjdXRlICggIlNlbGVjdCAiICsgIiwiIC4gam9pbiAoCiBzZXJpZV9hdHRyICkgKyBPT29vTyArICIgZnJvbSAiICsgdHlwZSArICIgd2hlcmUgbm9tYnJlIGxpa2UgPyBvcmRlciBieSBhbGZhIGFzYywgbm9tYnJlIGFzYyIgLAogKCB1bmljb2RlICggb29vb09PbzAwIC4gZGVjb2RlICggJ3V0Zi04JyApICkgLCApICkKICBleGNlcHQgOgogICBPbzBvb08wMCAuIGV4ZWN1dGUgKCAiU2VsZWN0ICIgKyAiLCIgLiBqb2luICgKIHNlcmllX2F0dHIgKSArIE9Pb29PICsgIiBmcm9tICIgKyB0eXBlICsgIiB3aGVyZSBub21icmUgbGlrZSA/IG9yZGVyIGJ5IGFsZmEgYXNjLCBub21icmUgYXNjIiAsCiAoIG9vMG8gKCB1bmljb2RlICggb29vb09PbzAwIC4gZGVjb2RlICggJ3V0Zi04JyApICkgKSAuIHVwcGVyICggKSAsICkgKQogIElpMWlJMWkxaUkxaUkgPSBPbzBvb08wMCAuIGZldGNoYWxsICggKQogIGlmIGxlbiAoIElpMWlJMWkxaUkxaUkgKSA9PSAwIDoKICAgT28wb29PMDAgLiBleGVjdXRlICggIlNlbGVjdCAiICsgIiwiIC4gam9pbiAoIHNlcmllX2F0dHIgKSArICIgZnJvbSAiICsgdHlwZSArICIgd2hlcmUgbm9tYnJlIGxpa2UgPyBvcmRlciBieSBub21icmUgYXNjIiAsCiAoIG9vMG8gKCB1bmljb2RlICggb29vb09PbzAwIC4gZGVjb2RlICggJ3V0Zi04JyApICkgKSAuIHVwcGVyICggKSAsICkgKQogICBJaTFpSTFpMWlJMWlJID0gT28wb29PMDAgLiBmZXRjaGFsbCAoICkKICBpaUlpaWkxIC4gY2xvc2UgKCApCiAgaWYgdHlwZSA9PSBvMDAgOgogICBJMTEgKCBJaTFpSTFpMWlJMWlJICwgVHJ1ZSAsIFRydWUgLCBGYWxzZSApCiAgZWxzZSA6CiAgIG9PT29vMCAoIElpMWlJMWkxaUkxaUkgLCAncGVsaXMnICwgaW5mbyA9IHsgJ3B1bnRvcycgOiAndHJ1ZScgLCAnYW5ubycgOiAndHJ1ZScgfSApCiAgIGlmIDgwIC0gODA6IEkxSWlJMUlJSTExaSAqIElJb29vTzBvb08wb28gKiBvb09vb08wT09PICsgSWlJSTFpMUkKICAgaWYgMzAgLSAzMDogSWlJSTFJaUkgKiBvT08gKyBvb29Pb08KICAgaWYgODMgLSA4Mzogb28gKyBpSWkxMQpkZWYgaTFpMUlJaUlpICggYXVkaW8gPSBOb25lICwgY2F0ZWdvcnkgPSAnR2VuZXJhbCcgKSA6CiBpZiBub3QgYXVkaW8gOgogIGlpSWlpaTEgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGlpSSApCiAgT28wb29PMDAgPSBpaUlpaWkxIC4gY3Vyc29yICggKQogIE9vMG9vTzAwIC4gZXhlY3V0ZSAoICJTZWxlY3QgYXVkaW8sY291bnQoYXVkaW8pIGZyb20gc2VyaWVzIHdoZXJlIGF1ZGlvIT0nQ2FzdGVsbGFubycgZ3JvdXAgYnkgYXVkaW8gb3JkZXIgYnkgYXVkaW8iICkKICBJaTFpSTFpMWlJMWlJID0gT28wb29PMDAgLiBmZXRjaGFsbCAoICkKICBpaUlpaWkxIC4gY2xvc2UgKCApCiAgSWlpaUlpaUlJSSA9IFsgXQogIGZvciBJaTFJMTExIGluIElpMWlJMWkxaUkxaUkgOgogICBhdWRpbyA9IElpMUkxMTEgWyAwIF0KICAgbzAgPSBJaTFJMTExIFsgMSBdCiAgIElpMSA9ICdbQ09MT1IgZ29sZF0lc1svQ09MT1JdICglcyknICUgKCBhdWRpbyAsIG8wICkKICAgb29Pb08wTzAgPSBpSWlJMWlpSUkxSWkgKCBub21icmUgPSBJaTEgLCBjYXJhdHVsYSA9ICcnICkKICAgb29JSUlJID0gJ3swfT9hY3Rpb249c2VyaWVzQnlMYW5nJmxhbmc9ezF9JyAuIGZvcm1hdCAoIG8wMEkxMUlpaTExaTFJaTEgLCBhdWRpbyAuIGVuY29kZSAoICd1dGYtOCcgKSApCiAgIG8wTyA9IFRydWUKICAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggb29JSUlJICwgb29Pb08wTzAgLCBvME8gKSApCiAgdHJ5IDoKICAgaWYgNzkgLSA3OTogSTFJaUkxSUlJMTFpICsgT09vT29PMG8wbzBPTyAtIGlpMUkxaWkxSWlJaTEgLyBJaSAqIEkxSWlJMUlJSTExaSAuIG9vb09vTwogICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiQ29udGFpbmVyLlNldFZpZXdNb2RlKDUwMikiICkKICBleGNlcHQgOgogICBwYXNzCiAgeGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW1zICggaWlJSSAsIElpaWlJaWlJSUkgLCBsZW4gKCBJaWlpSWlpSUlJICkgKQogIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGlpSUkgKQogZWxzZSA6CiAgSWkxaUkxaTFpSTFpSSA9IEkxSWkxSWlJSWlJICggInNlcmllcyIgLCBvME8wbyAsIFsgImF1ZGlvIiBdICwgWyBhdWRpbyAuIGRlY29kZSAoICd1dGYtOCcgKSBdICwgWyAibm9tYnJlIiBdICkKICBJMTEgKCBJaTFpSTFpMWlJMWlJICwgVHJ1ZSAsIE5vbmUgLCBGYWxzZSApCiAgaWYgODEgLSA4MTogbzAwb08wb28wTzBPMCAqIElJICogSWkgKyBpaUlJaTFpMUlpaSArIGlJaTExCiAgaWYgODAgLSA4MDogSWkxSSAuIElJSUkKZGVmIE9PT09Pb08wb28wb28wMCAoIGxldHJhID0gTm9uZSAsIHR5cGUgPSAnJyApIDoKIG8wME8wbzAwbyA9IHsgJ0EnIDogJ3VuaWNvZGUodXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpKSA+PSAxOTIgQU5EIHVuaWNvZGUodXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpKSA8PSAxOTgnICwKICdFJyA6ICd1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gMjAwIEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gMjAzJyAsCiAnSScgOiAndW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpID49IDIwNCBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDIwNycgLAogJ08nIDogJ3VuaWNvZGUodXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpKSA+PSAyMTAgQU5EIHVuaWNvZGUodXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpKSA8PSAyMTQnICwKICdVJyA6ICd1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPj0gMjE3IEFORCB1bmljb2RlKHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSkgPD0gMjIwJyB9CiBpMSA9ICchMC05Li4nCiBJaUlpaWkxMTExSTExID0gJ3VuaWNvZGUodXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpKSA+PSA2NSBBTkQgdW5pY29kZSh1cHBlcihzdWJzdHIobm9tYnJlLCAxLCAxKSkpIDw9IDkwJwogaWYgdHlwZSA9PSAnc2VyaWUnIDoKICBpMTFJID0gbzBPMG8KIGVsc2UgOgogIGkxMUkgPSBvbzBvTzBPTzBPTzBPCiBpZiBub3QgbGV0cmEgOgogIGlpID0gIiIgLiBqb2luICggWyAiV2hlbiAiICsgT28wMG9PTyArICIgVGhlbiAnIiArIGlpMTFJaTExaSArICInIiBmb3IgaWkxMUlpMTFpICwgT28wMG9PTyBpbiBvMDBPMG8wMG8gLiBpdGVyaXRlbXMgKCApIF0gKQogIGlpSWlpaTEgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGlpSSApCiAgT28wb29PMDAgPSBpaUlpaWkxIC4gY3Vyc29yICggKQogIE9vMG9vTzAwIC4gZXhlY3V0ZSAoCiAic2VsZWN0IGFsZmEsIGNvdW50IChhbGZhKSBmcm9tIChzZWxlY3QgQ0FTRSAiICsgaWkgKyAiIFdIRU4gIiArIElpSWlpaTExMTFJMTEgKyAiIFRIRU4gdXBwZXIoc3Vic3RyKG5vbWJyZSwgMSwgMSkpIEVMU0UgJyEwLTkuLicgIEVORCBhbGZhLCBub21icmUsICIgKyB0eXBlICsgIl9pZCBmcm9tICIgKyB0eXBlICsgInMpIGdyb3VwIGJ5IGFsZmEgb3JkZXIgYnkgYWxmYSIgKQogIElpMWlJMWkxaUkxaUkgPSBPbzBvb08wMCAuIGZldGNoYWxsICggKQogIGlpSWlpaTEgLiBjbG9zZSAoICkKICBJaWlpSWlpSUlJID0gWyBdCiAgZm9yIElpMUkxMTEgaW4gSWkxaUkxaTFpSTFpSSA6CiAgIGxldHJhID0gSWkxSTExMSBbIDAgXQogICBvMCA9IElpMUkxMTEgWyAxIF0KICAgSWkxID0gJ1tDT0xPUiBnb2xkXSVzWy9DT0xPUl0gKCVzKScgJSAoIGxldHJhICwgbzAgKQogICBvb09vTzBPMCA9IGlJaUkxaWlJSTFJaSAoIG5vbWJyZSA9IElpMSAsIGNhcmF0dWxhID0gJycgKQogICBvb0lJSUkgPSAnezB9P2FjdGlvbj17MX1zQnlBWiZsZXRyYT17Mn0nIC4gZm9ybWF0ICggbzAwSTExSWlpMTFpMUlpMSAsIHR5cGUgLCBsZXRyYSApCiAgIG8wTyA9IFRydWUKICAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggb29JSUlJICwgb29Pb08wTzAgLCBvME8gKSApCiAgdHJ5IDoKICAgaWYgODggLSA4ODogSTEgJSBvMDBvTzBvbzBPME8wICogaWlJSWkxaTFJaWkgKyBpaTFJMWlpMUlpSWkxICUgSTFJaUkxSUlJMTFpIC4gT09PCiAgIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJDb250YWluZXIuU2V0Vmlld01vZGUoNTAyKSIgKQogIGV4Y2VwdCA6CiAgIHBhc3MKICB4Ym1jcGx1Z2luIC4gYWRkRGlyZWN0b3J5SXRlbXMgKCBpaUlJICwgSWlpaUlpaUlJSSAsIGxlbiAoIElpaWlJaWlJSUkgKSApCiAgeGJtY3BsdWdpbiAuIGVuZE9mRGlyZWN0b3J5ICggaWlJSSApCiBlbHNlIDoKICBpaUlpaWkxID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBpaUkgKQogIE9vMG9vTzAwID0gaWlJaWlpMSAuIGN1cnNvciAoICkKICBpZiBsZXRyYSBpbiBvMDBPMG8wMG8gOgogICBvMDBPMG8wMG8gWyBsZXRyYSBdID0gbzAwTzBvMDBvIFsgbGV0cmEgXSArICcgT1InCiAgZWxpZiBsZXRyYSA9PSBpMSA6CiAgIG8wME8wbzAwbyBbIGxldHJhIF0gPSAiQU5EIiAuIGpvaW4gKCBbICIgTk9UICggIiArIE9vMDBvT08gKyAiKSAiIGZvciBpaTExSWkxMWkgLCBPbzAwb09PIGluIG8wME8wbzAwbyAuIGl0ZXJpdGVtcyAoICkgXSApICsgIiBBTkQgTk9UICgiICsgSWlJaWlpMTExMUkxMSArICIpIE9SIgogIGVsc2UgOgogICBvMDBPMG8wMG8gWyBsZXRyYSBdID0gJycKICBpZiB0eXBlID09ICdwZWxpJyA6CiAgIGkxMUkgPSBJMUkxaQogIE9vMG9vTzAwIC4gZXhlY3V0ZSAoCiAic2VsZWN0ICIgKyAiLCIgLiBqb2luICggaTExSSApICsgIiBmcm9tICIgKyB0eXBlICsgInMgd2hlcmUgIiArIG8wME8wbzAwbyBbIGxldHJhIF0gKyAiIHVwcGVyKHN1YnN0cihub21icmUsIDEsIDEpKSA9PSA/IG9yZGVyIGJ5IG5vbWJyZSIgLAogKCBsZXRyYSAsICkgKQogIElpMWlJMWkxaUkxaUkgPSBPbzBvb08wMCAuIGZldGNoYWxsICggKQogIGlpSWlpaTEgLiBjbG9zZSAoICkKICBpZiB0eXBlID09ICdwZWxpJyA6CiAgIG9PT29vMCAoIElpMWlJMWkxaUkxaUkgLCB0eXBlID0gJ3BlbGlzJyAsIGluZm8gPSB7ICdwdW50b3MnIDogJ3RydWUnICwgJ2Fubm8nIDogJ3RydWUnIH0gKQogIGVsc2UgOgogICBJMTEgKCBJaTFpSTFpMWlJMWlJICwgVHJ1ZSAsIFRydWUgLCBGYWxzZSApCiAgIGlmIDQ1IC0gNDU6IG9vb09vTyAvIE9Pb09vTzBvMG8wT08gLSBJSSArIElpIC4gaWlJSWkxaTFJaWkKICAgaWYgMzYgLSAzNjogb29vT29PCmRlZiBPT09vMDBvb28wT28gKCBvcHRpb24gKSA6CiBvT28gPSBbIF0KIGlmICJTZXJpZXMiID09IG9wdGlvbiA6CiAgb09vIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1NlcmllcycgLCBvME8wb08wIDogbzAwICwgJ2ljbycgOiBvMDAgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIG9PbyAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnU2VyaWVzIEFuaW1lJyAsIG8wTzBvTzAgOiAnc2VyaWVzX2FuaW1lJyAsICdpY28nIDogJ3Nlcmllc19hbmltZScgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIG9PbyAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnU2VyaWVzIERpYnVqb3MnICwgbzBPMG9PMCA6ICdzZXJpZXNfZGlidWpvcycgLCAnaWNvJyA6ICdzZXJpZXNfZGlidWpvcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdTZXJpZXMgUmV0cm8nICwgbzBPMG9PMCA6ICdzZXJpZXNfcmV0cm8nICwgJ2ljbycgOiAnc2VyaWVzX3JldHJvJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgb09vIC4gYXBwZW5kICgKIHsgJ3RpdGxlJyA6ICdUZWxlbm92ZWxhcycgLCBvME8wb08wIDogJ3RlbGVub3ZlbGFzJyAsICdpY28nIDogJ3RlbGVub3ZlbGFzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgb09vIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1NlcmllcyBBLVonICwgbzBPMG9PMCA6ICdzZXJpZXNCeUFaJyAsICdpY28nIDogbzAwICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBvT28gLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnU2VyaWVzIE90cm9zIElkaW9tYXMnICwgbzBPMG9PMCA6ICdzZXJpZXNCeUxhbmcnICwgJ2ljbycgOiAnc2VyaWVzX290cm9zX2lkaW9tYXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3NlcmllcycgfSApCiAgb09vIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1NlcmllcyBSZWNpZW50ZXMnICwgbzBPMG9PMCA6ICd1bHRpbWFzX3NlcmllcycgLCAnaWNvJyA6ICdzZXJpZXNfcmVjaWVudGVzJyAsCiAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdNw6FzIFZpc3RhcycgLCBvME8wb08wIDogJ3Nlcmllc19tYXNfdmlzdGFzJyAsICdpY28nIDogJ3Nlcmllc19tYXNfdmlzdGFzJyAsICdmYW4nIDogJ2ZhbmFydF9zZXJpZXMnIH0gKQogIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdNYXMgVmlzdGFzIMOabHRpbW8gTWVzJyAsIG8wTzBvTzAgOiAnc2VyaWVzX21hc192aXN0YXNfbWVzJyAsICdpY28nIDogJ3Nlcmllc19tYXNfdmlzdGFzX21lcycgLCAnZmFuJyA6ICdmYW5hcnRfc2VyaWVzJyB9ICkKIGVsaWYgIlBlbGlzIiA9PSBvcHRpb24gOgogIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdQZWxpcyBBLVonICwgbzBPMG9PMCA6ICdwZWxpc0J5QVonICwgJ2ljbycgOiAncGVsaXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBvT28gLiBhcHBlbmQgKAogeyAndGl0bGUnIDogJ1BlbGlzIChHZW5lcm8pJyAsIG8wTzBvTzAgOiAnbGlzdF9nZW5lcm9zJyAsICdpY28nIDogJ3BlbGlzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgb09vIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1BlbGlzIChBw7FvKScgLCBvME8wb08wIDogJ2FueW8nICwgJ2ljbycgOiAncGVsaXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBvT28gLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnU2FnYXMnICwgbzBPMG9PMCA6ICdzYWdhcycgLCAnaWNvJyA6ICdzYWdhcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIG9PbyAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnVG9wIFBlbGlzIChBw7FvKScgLCBvME8wb08wIDogJ2FueW9fdG9wJyAsICdpY28nIDogJ3RvcF9wZWxpcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIG9PbyAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnUGVsaXMgUmVjaWVudGVzJyAsIG8wTzBvTzAgOiAndWx0aW1hc19wZWxpcycgLCAnaWNvJyA6ICdwZWxpc19yZWNpZW50ZXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBvT28gLiBhcHBlbmQgKAogeyAndGl0bGUnIDogJ1BlbGlzIFJlY2llbnRlcyAoQcOxbyknICwgbzBPMG9PMCA6ICd1bHRpbWFzX3BlbGlzX2FueW8nICwgJ2ljbycgOiAncGVsaXNfcmVjaWVudGVzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgb09vIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ03DoXMgVmlzdGFzJyAsIG8wTzBvTzAgOiAncGVsaXNfbWFzX3Zpc3RhcycgLCAnaWNvJyA6ICdwZWxpc19tYXNfdmlzdGFzJyAsICdmYW4nIDogJ2ZhbmFydF9zZXJpZXMnIH0gKQogIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdNw6FzIFZpc3RhcyDDmmx0aW1vIE1lcycgLCBvME8wb08wIDogJ3BlbGlzX21hc192aXN0YXNfbWVzJyAsICdpY28nIDogJ3BlbGlzX21hc192aXN0YXNfbWVzJyAsICdmYW4nIDogJ2ZhbmFydF9zZXJpZXMnIH0gKQogIGlmIDE2IC0gMTY6IElJIC4gSWkxSQogZWxpZiAiRGlidWpvcyIgPT0gb3B0aW9uIDoKICBvT28gLiBhcHBlbmQgKAogeyAndGl0bGUnIDogJ1NlcmllcyBEaWJ1am9zJyAsIG8wTzBvTzAgOiAnc2VyaWVzX2RpYnVqb3MnICwgJ2ljbycgOiAnc2VyaWVzX2RpYnVqb3MnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBvT28gLiBhcHBlbmQgKAogeyAndGl0bGUnIDogJ1BlbGlzIERpYnVqb3MnICwgbzBPMG9PMCA6ICdwZWxpX2luZicgLCAnaWNvJyA6ICdwZWxpc19kaWJ1am9zJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgb09vIC4gYXBwZW5kICgKIHsgJ3RpdGxlJyA6ICdUb3AgUGVsaXMgRGlidWpvcycgLCBvME8wb08wIDogJ3RvcF9wZWxpX2luZicgLCAnaWNvJyA6ICd0b3BfcGVsaXNfZGlidWpvcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdQZWxpcyBEaWJ1am9zIFJlY2llbnRlcycgLCBvME8wb08wIDogJ2xhc3RfcGVsaV9pbmYnICwgJ2ljbycgOiAnZGlidWpvc19yZWNpZW50ZXMnICwKICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBlbHNlIDoKICBvT28gLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnRmF2b3JpdG9zJyAsIG8wTzBvTzAgOiAnbGlzdGZhdicgLCAnaWNvJyA6ICdmYXZvcml0b3MnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBvT28gLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnTWVudSBTZXJpZXMnICwgbzBPMG9PMCA6ICdzZXJpZXNfbWVudScgLCAnaWNvJyA6ICdtZW51X3NlcmllJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgb09vIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ01lbnUgUGVsaXMnICwgbzBPMG9PMCA6ICdwZWxpc19tZW51JyAsICdpY28nIDogJ21lbnVfcGVsaScgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIG9PbyAuIGFwcGVuZCAoCiB7ICd0aXRsZScgOiAnTWVudSBEaWJ1am9zJyAsIG8wTzBvTzAgOiAnZGlidWpvc19tZW51JyAsICdpY28nIDogJ21lbnVfZGlidWpvcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdTZXJpZXMgUmVjaWVudGVzJyAsIG8wTzBvTzAgOiAndWx0aW1hc19zZXJpZXMnICwgJ2ljbycgOiAnc2VyaWVzX3JlY2llbnRlcycgLAogJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBvT28gLiBhcHBlbmQgKAogeyAndGl0bGUnIDogJ1BlbGlzIFJlY2llbnRlcycgLCBvME8wb08wIDogJ3VsdGltYXNfcGVsaXMnICwgJ2ljbycgOiAncGVsaXNfcmVjaWVudGVzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiAgb09vIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1BlbGlzIERpYnVqb3MgUmVjaWVudGVzJyAsIG8wTzBvTzAgOiAnbGFzdF9wZWxpX2luZicgLCAnaWNvJyA6ICdkaWJ1am9zX3JlY2llbnRlcycgLAogJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKICBvT28gLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnQnVzY2FyIFBlbGknICwgbzBPMG9PMCA6ICdzZWFyY2hQZWxpJyAsICdpY28nIDogJ2J1c2NhcicgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdCdXNjYXIgU2VyaWUnICwgbzBPMG9PMCA6ICdzZWFyY2hTZXJpZScgLCAnaWNvJyA6ICdidXNjYXInICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKIHJldHVybiBvT28KIGlmIDg5IC0gODk6IElJb29vTzBvb08wb28gLiBJMSArIElJIC0gSWkKIGlmIDU3IC0gNTc6IG9vb09vTwogaWYgMzAgLSAzMDogaTFpSTEgKyBvb29Pb08gKiBJaUlJMWkxSSAvIG9PTyAlIEkxSWlJMUlJSTExaQpkZWYgaTExICggKSA6CiBvT28gPSBbIF0KIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdTZXJpZXMnICwgbzBPMG9PMCA6IG8wMCAsICdpY28nIDogbzAwICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdTZXJpZXMgQS1aJyAsIG8wTzBvTzAgOiAnc2VyaWVzQnlBWicgLCAnaWNvJyA6IG8wMCAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBvT28gLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnU2VyaWVzIEluZmFudGlsZXMnICwgbzBPMG9PMCA6ICdzZXJpZXNfZGlidWpvcycgLCAnaWNvJyA6ICdkaWJ1am9zJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBvT28gLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnU2VyaWVzIFJldHJvJyAsIG8wTzBvTzAgOiAnc2VyaWVzX3JldHJvJyAsICdpY28nIDogJ3JldHJvJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBvT28gLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnRmF2b3JpdG9zJyAsIG8wTzBvTzAgOiAnbGlzdGZhdicgLCAnaWNvJyA6ICdmYXZvcml0b3MnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdQZWxpcyBBLVonICwgbzBPMG9PMCA6ICdwZWxpc0J5QVonICwgJ2ljbycgOiAncGVsaXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdQZWxpcyAoR2VuZXJvKScgLCBvME8wb08wIDogJ2xpc3RfZ2VuZXJvcycgLCAnaWNvJyA6ICdwZWxpc19nZW5lcm8nICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdQZWxpcyAoQcOxbyknICwgbzBPMG9PMCA6ICdhbnlvJyAsICdpY28nIDogJ3BlbGlzX2FueW8nICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdQZWxpcyBEaWJ1am9zJyAsIG8wTzBvTzAgOiAncGVsaV9pbmYnICwgJ2ljbycgOiAncGVsaXNfZGlidWpvcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogb09vIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1RvcCBQZWxpcyAoQcOxbyknICwgbzBPMG9PMCA6ICdhbnlvX3RvcCcgLCAnaWNvJyA6ICd0b3BfcGVsaXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdUb3AgUGVsaXMgRGlidWpvcycgLCBvME8wb08wIDogJ3RvcF9wZWxpX2luZicgLCAnaWNvJyA6ICd0b3BfZGlidWpvcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogb09vIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1BlbGlzIERpYnVqb3MgUmVjaWVudGVzJyAsIG8wTzBvTzAgOiAnbGFzdF9wZWxpX2luZicgLCAnaWNvJyA6ICdkaWJ1am9zX3JlY2llbnRlcycgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogb09vIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ1BlbGlzIFJlY2llbnRlcycgLCBvME8wb08wIDogJ3VsdGltYXNfcGVsaXMnICwgJ2ljbycgOiAncGVsaXNfcmVjaWVudGVzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBvT28gLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnU2VyaWVzIFJlY2llbnRlcycgLCBvME8wb08wIDogJ3VsdGltYXNfc2VyaWVzJyAsICdpY28nIDogJ3Nlcmllc19yZWNpZW50ZXMnICwgJ2ZhbicgOiAnZmFuYXJ0X3BhbGFudGlyJyB9ICkKIG9PbyAuIGFwcGVuZCAoIHsgJ3RpdGxlJyA6ICdTYWdhcycgLCBvME8wb08wIDogJ3NhZ2FzJyAsICdpY28nIDogJ3NhZ2FzJyAsICdmYW4nIDogJ2ZhbmFydF9wYWxhbnRpcicgfSApCiBvT28gLiBhcHBlbmQgKCB7ICd0aXRsZScgOiAnQnVzY2FyIFBlbGknICwgbzBPMG9PMCA6ICdzZWFyY2hQZWxpJyAsICdpY28nIDogJ2J1c2NhcicgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogb09vIC4gYXBwZW5kICggeyAndGl0bGUnIDogJ0J1c2NhciBTZXJpZScgLCBvME8wb08wIDogJ3NlYXJjaFNlcmllJyAsICdpY28nIDogJ2J1c2NhcicgLCAnZmFuJyA6ICdmYW5hcnRfcGFsYW50aXInIH0gKQogaWYgNjAgLSA2MDogSWlJSTFJaUkgLiBpSWkxMSArIG9vT29vTzBPT08KIGlmIDk3IC0gOTc6IGlpMUkxaWkxSWlJaTEKIHJldHVybiBvT28KIGlmIDk3IC0gOTc6IG9PTyAlIGlpMUkxaWkxSWlJaTEgKyBJaUlJMUlpSSAlIGkxaUkxCiBpZiA1OSAtIDU5OiBvb09vb08wT09PCmRlZiBJaUlpSSAoIGZ1bmN0aW9uX21lbnUgKSA6CiBPMDAwME8gKCBpaUkgKQogb09vID0gZnVuY3Rpb25fbWVudQogSWlpaUlpaUlJSSA9IFsgXQogZm9yIG9PbzAgaW4gb09vIDoKICBvb09vTzBPMCA9IGlJaUkxaWlJSTFJaSAoIG5vbWJyZSA9ICdbQ09MT1IgZ29sZF1bQl0lc1svQl1bL0NPTE9SXScgJSBvT28wIFsgJ3RpdGxlJyBdICwgY2FyYXR1bGEgPSAnJXMvJXMucG5nJyAlICggaUlpMTFpSTFpaTFJICwgb09vMCBbICdpY28nIF0gKSAsCiBwb3N0ZXIgPSAnJXMvJXMuanBnJyAlICggaUlpMTFpSTFpaTFJICwgb09vMCBbICdmYW4nIF0gKSApCiAgb29JSUlJID0gJ3swfT97MX09ezJ9JyAuIGZvcm1hdCAoIG8wMEkxMUlpaTExaTFJaTEgLCBvME8wb08wICwgb09vMCBbIG8wTzBvTzAgXSApCiAgbzBPID0gVHJ1ZQogIElpaWlJaWlJSUkgLiBhcHBlbmQgKCAoIG9vSUlJSSAsIG9vT29PME8wICwgbzBPICkgKQogdHJ5IDoKICBpZiAzMSAtIDMxOiBPT08KICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiQ29udGFpbmVyLlNldFZpZXdNb2RlKDUwMCkiICkKIGV4Y2VwdCA6CiAgcGFzcwogeGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW1zICggaWlJSSAsIElpaWlJaWlJSUkgLCBsZW4gKCBJaWlpSWlpSUlJICkgKQogeGJtY3BsdWdpbiAuIGVuZE9mRGlyZWN0b3J5ICggaWlJSSApCiBpZiAxMSAtIDExOiBJMUlpSTFJSUkxMWkKIGlmIDEwIC0gMTA6IG9vb09vTyAtIE9PTyAvIG9vIC8gSWkxSQogaWYgNzUgLSA3NTogb29vT29PIC4gSUlJSQpkZWYgb09Pb28wICggcm93cyA9IFsgXSAsIHR5cGUgPSBvMDAgLCBjYXJhdCA9IE5vbmUgLCBwb3N0ZSA9IE5vbmUgLCBpbmZvID0geyB9ICkgOgogdHJ5IDoKICBpZiB0eXBlID09IG8wMCA6CiAgIHhibWNwbHVnaW4gLiBzZXRDb250ZW50ICggaWlJSSAsICJlcGlzb2RlcyIgKQogIGVsc2UgOgogICB4Ym1jcGx1Z2luIC4gc2V0Q29udGVudCAoIGlpSUkgLCAibW92aWVzIiApCiAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIkNvbnRhaW5lci5TZXRWaWV3TW9kZSg1MDIpIiApCiBleGNlcHQgOgogIHBhc3MKICBpZiAzMCAtIDMwOiBJaUlJMUlpSSAlIE9PTyAuIEkxCiBvT29PTzBPME9PbyA9IHsgfQogaWYgNDAgLSA0MDogaTFpSTEgLSBvbyAvIGlJaTExIC8gSTEKIGlmIDM0IC0gMzQ6IG8wMG9PMG9vME8wTzAKIGlmIDE2IC0gMTY6IG9vICUgSTFJaUkxSUlJMTFpIC0gb29Pb29PME9PTyAuIElpSUkxSWlJIC4gaWlJSWkxaTFJaWkKIGlmIDM4IC0gMzg6IElpSUkxSWlJICsgSWkgKiBvb29Pb08KIGlmIDQ0IC0gNDQ6IG9PTyAvIEkxSWlJMUlJSTExaSAvIGlpSUlpMWkxSWlpCiBpZiA2MCAtIDYwOiBpaTFJMWlpMUlpSWkxIC4gaWkxSTFpaTFJaUlpMSAuIG9vT29vTzBPT08gLyBJSW9vb08wb29PMG9vIC8gSTFJaUkxSUlJMTFpCiBpZiA1MyAtIDUzOiBvb09vb08wT09PIC8gaWkxSTFpaTFJaUlpMSAvIG8wMG9PMG9vME8wTzAgLSBPT08gKiBJMUlpSTFJSUkxMWkgKyBJaUlJMWkxSQogaWYgOTAgLSA5MDogb29Pb29PME9PTyArIElJb29vTzBvb08wb28gLyBvb29Pb08gKyBPT08gKiBpSWkxMSAlIGlpSUlpMWkxSWlpCiBpZiA5NyAtIDk3OiBPT29Pb08wbzBvME9PICogSUkgLiBJMSArIElpMUkKIE9vME9vbyA9IHsgfQogSWlpaUlpaUlJSSA9IFsgXQogaWYgbGVuICggcm93cyApID4gMCA6CiAgZm9yIElpMUkxMTEgaW4gcm93cyA6CiAgIE9vMG9PT09PID0gWyBdCiAgIEkxSWkxSTExaTFJaSA9IElpMUkxMTEgWyAwIF0KICAgSWlpMW9PMDBvMDAwME9PME8gPSBJaTFJMTExIFsgMSBdCiAgIGkxSWkxMWkgPSBJaTFJMTExIFsgMiBdCiAgIG9vT08wT28wb08gPSBJaTFJMTExIFsgNiBdCiAgIGlmIElpMUkxMTEgWyA3IF0gOgogICAgSWlJaUlJaTEgPSBJaTFJMTExIFsgNyBdCiAgIGVsc2UgOgogICAgSWlJaUlJaTEgPSBOb25lCiAgIE9PID0gSWkxSTExMSBbIDggXQogICBPTzBvT08wTyA9IElpMUkxMTEgWyA5IF0KICAgb29Pb28wID0gSWkxSTExMSBbIDEwIF0KICAgTzBvT29vT29PbzAgPSBJaTFJMTExIFsgMTEgXQogICBvT08wME9vTzBvbyA9IElpMUkxMTEgWyAxMiBdCiAgIGlmIE9PIDoKICAgIE9vb08wT09vbzBPMCA9IE9PCiAgIGVsc2UgOgogICAgT29vTzBPT29vME8wID0gc3RyICggSWlpMW9PMDBvMDAwME9PME8gKSArICd4JyArIGkxSWkxMWkKICAgIE9PID0gc3RyICggSWlpMW9PMDBvMDAwME9PME8gKSArICd4JyArIGkxSWkxMWkKICAgaWYgSWkxSTExMSBbIDMgXSA6CiAgICBpSWlpaUkgPSBJaTFJMTExIFsgMyBdIC4gc3BsaXQgKCAnIycgKQogICAgZm9yIE9vT28wTyBpbiBpSWlpaUkgOgogICAgIGlmIE9vT28wTyA9PSAnUycgOgogICAgICBPb09vME8gPSAnSEQnCiAgICAgT08gPSBPTyArICdbQ09MT1IgZ3JlZW5dICglcykgWy9DT0xPUl0nICUgc3RyICggT29PbzBPICkKICAgaWYgaW5mbyBhbmQgJ3B1bnRvcycgaW4gaW5mbyBhbmQgSWkxSTExMSBbIDE0IF0gOgogICAgT08gPSBPTyArICcgWyVzXSAnICUgc3RyICggSWkxSTExMSBbIDE0IF0gKQogICBpZiBpbmZvIGFuZCAnYW5ubycgaW4gaW5mbyBhbmQgT08wb09PME8gOgogICAgT08gPSBPTyArICcgKCVzKSAnICUgc3RyICggT08wb09PME8gKQogICBpZiBpbmZvIGFuZCAnZGF0ZScgaW4gaW5mbyA6CiAgICBPTyA9IE9PICsgJyAoJXMpICcgJSBzdHIgKCBJaTFJMTExIFsgMTMgXSApCiAgIGlmIG5vdCBPMG9Pb29Pb09vMCA6CiAgICBPMG9Pb29Pb09vMCA9IGNhcmF0CiAgIGlmIG5vdCBvT08wME9vTzBvbyA6CiAgICBvT08wME9vTzBvbyA9IHBvc3RlCiAgIG9vT29PME8wID0gaUlpSTFpaUlJMUlpICggbm9tYnJlID0gT08gLCBjYXJhdHVsYSA9IE8wb09vb09vT28wICwKIHBvc3RlciA9IG9PTzAwT29PMG9vICwgdmlkZW8gPSB7ICd0aXRsZScgOiBPTyAsICd5ZWFyJyA6IE9PMG9PTzBPICwgJ3Bsb3QnIDogb29Pb28wIH0gLCBpc1BsYXlhYmxlID0gVHJ1ZSApCiAgIGlmIDExIC0gMTE6IElpSUkxSWlJIC8gSUlvb29PMG9vTzBvbyAuIGlpSUlpMWkxSWlpCiAgIGlmIGlzaW5zdGFuY2UgKCBPb29PME9Pb28wTzAgLCB1bmljb2RlICkgOgogICAgT29vTzBPT29vME8wID0gT29vTzBPT29vME8wIC4gZW5jb2RlICggJ3V0Zi04JyApCiAgIG9vSUlJSSA9ICd7MH0/ezF9PXBsYXkmaWQ9ezJ9Jmxpbj17M30mdGl0PXs0fSZ0eXBlPXs1fScgLiBmb3JtYXQgKCBvMDBJMTFJaWkxMWkxSWkxICwgbzBPMG9PMCAsIEkxSWkxSTExaTFJaSAsIG9vT08wT28wb08gLAogYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKAogdW5pY29kZSAoIE9vb08wT09vbzBPMCAsIEkxMTFpMTFJMUkgKSAuIGVuY29kZSAoCiBJMTExaTExSTFJICkgKSAsIHR5cGUgKQogICB0cnkgOgogICAgaWkxMWlpMWlJSUkxSSAsIGkxaUkxb09vT28wTzAgPSBhbm9yIC4gSTFpMUkxaUkxMUkgKAogJ3NlbGVjdCBmaWxlcy5pZEZpbGUsIGlkUGF0aCwgc3RyRmlsZW5hbWUsIHBsYXlDb3VudCwgaVZpZGVvV2lkdGh8fCJ4Inx8aVZpZGVvSGVpZ2h0IGZyb20gZmlsZXMsIHN0cmVhbWRldGFpbHMgd2hlcmUgc3RyZWFtZGV0YWlscy5pZEZpbGUgPSBmaWxlcy5pZEZpbGUgYW5kIGlTdHJlYW1UeXBlPTAgYW5kIGlkUGF0aD0oU2VsZWN0IGlkUGF0aCBmcm9tIHBhdGggd2hlcmUgc3RyUGF0aD0icGx1Z2luOi8vcGx1Z2luLnZpZGVvLnBhbGFudGlyLyIpIGFuZCBzdHJGaWxlbmFtZSBsaWtlICJwbHVnaW46Ly9wbHVnaW4udmlkZW8ucGFsYW50aXIvP2FjdGlvbj1wbGF5JmlkPSVzJSInICUgc3RyICgKIElpMUkxMTEgWyAwIF0gKSApCiAgICBpZiA4NyAtIDg3OiBpSWkxMSAtIGlpMUkxaWkxSWlJaTEgKyBJaUlJMUlpSSArIG9PTyAuIEkxICogT09vT29PMG8wbzBPTwogICAgZm9yIG9vMDBPT08wT28wMDAgaW4gaTFpSTFvT29PbzBPMCA6CiAgICAgb09vT08wTzBPT28gWyBvbzAwT09PME9vMDAwIFsgMiBdIF0gPSBvbzAwT09PME9vMDAwCiAgIGV4Y2VwdCA6CiAgICBwYXNzCiAgICBpZiAzNyAtIDM3OiBJSSAvIEkxSWlJMUlJSTExaSAlIElpSUkxSWlJICsgb09PCiAgIGlmIG9vSUlJSSBpbiBvT29PTzBPME9PbyA6CiAgICBpZiBvT29PTzBPME9PbyBbIG9vSUlJSSBdIFsgMyBdID4gMCA6CiAgICAgT28wb09PT08gLiBhcHBlbmQgKCBvME9PICggb09vT08wTzBPT28gWyBvb0lJSUkgXSBbIDAgXSAsIG9Pb09PME8wT09vIFsgb29JSUlJIF0gWyAxIF0gLCBvT29PTzBPME9PbyBbIG9vSUlJSSBdIFsgMiBdICwgRmFsc2UgKSApCiAgICBlbHNlIDoKICAgICBPbzBvT09PTyAuIGFwcGVuZCAoIG8wT08gKCBvT29PTzBPME9PbyBbIG9vSUlJSSBdIFsgMCBdICwgb09vT08wTzBPT28gWyBvb0lJSUkgXSBbIDEgXSAsIG9Pb09PME8wT09vIFsgb29JSUlJIF0gWyAyIF0gLCBUcnVlICkgKQogICAgaWYgb09vT08wTzBPT28gWyBvb0lJSUkgXSBbIDQgXSA6CiAgICAgaWYgbm90IHN0ciAoIEkxSWkxSTExaTFJaSApICsgJy0nICsgc3RyICggSWlpMW9PMDBvMDAwME9PME8gKSArICctJyArIGkxSWkxMWkgaW4gT28wT29vIGFuZCBub3QgSWlJaUlJaTEgOgogICAgICBPbzBPb28gWyBzdHIgKCBJMUlpMUkxMWkxSWkgKSArICctJyArIHN0ciAoIElpaTFvTzAwbzAwMDBPTzBPICkgKyAnLScgKyBpMUlpMTFpIF0gPSBzdHIgKCBvT29PTzBPME9PbyBbIG9vSUlJSSBdIFsgNCBdICkKICAgZWxzZSA6CiAgICBPbzBvT09PTyAuIGFwcGVuZCAoIG8wT08gKCAwICwgb09PTzBPMCAsIG9vSUlJSSAsIFRydWUgKSApCiAgIE9vMG9PT09PIC4gYXBwZW5kICgKIG9Pb09PbyAoIGlkID0gJyVzLSVzLSVzJyAlICggc3RyICggSTFJaTFJMTFpMUlpICkgLCBzdHIgKCBJaWkxb08wMG8wMDAwT08wTyApICwgaTFJaTExaSApICwgdHlwZSA9IHR5cGUgLCBub21icmUgPSBPTyAsIHVybCA9IG9vSUlJSSAsCiBjYXJhdHVsYSA9IE8wb09vb09vT28wICwgcG9zdGVyID0gb09PMDBPb08wb28gKSApCiAgIGlmIDcxIC0gNzE6IG9vT29vTzBPT08KICAgb29Pb08wTzAgLiBhZGRDb250ZXh0TWVudUl0ZW1zICggT28wb09PT08gKQogICBpZiA5MiAtIDkyOiBvT08gKyBJaUlJMUlpSSAtIEkxSWlJMUlJSTExaSAlIElpMUkgKiBvbwogICBpZiA4OSAtIDg5OiBvb09vb08wT09PCiAgIGlmIDg1IC0gODU6IG9vT29vTzBPT08KICAgaWYgOTEgLSA5MTogSWlJSTFpMUkgKiBJMSArIG9vCiAgIGlmIDc0IC0gNzQ6IGkxaUkxICUgSUlJSSAtIElJSUkKICAgbzBPID0gRmFsc2UKICAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggb29JSUlJICwgb29Pb08wTzAgLCBvME8gKSApCiAgdHJ5IDoKICAgaWYgbGVuICggT28wT29vICkgPiAwIDoKICAgIGZvciBPb28gLCBPT08wTzBPTzBPTzBPIGluIE9vME9vbyAuIGl0ZXJpdGVtcyAoICkgOgogICAgIGl0aGlsIC4gdXBkYXRlUXVhbGl0eSAoIGlpSSAsIE9vbyAsIE9PTzBPME9PME9PME8gLCB0eXBlICkKICBleGNlcHQgOgogICBwYXNzCiAgIGlmIDY5IC0gNjk6IG9vb09vTyAvIElpSUkxSWlJICogSTEgLSBJMSAuIGlpMUkxaWkxSWlJaTEgLSBvMDBvTzBvbzBPME8wCiBlbHNlIDoKICBpZiA0MCAtIDQwOiBJSUlJICogb28gLSBJMUlpSTFJSUkxMWkgLiBJMUlpSTFJSUkxMWkKICBJaWlpSWlpSUlJIC4gYXBwZW5kICggKCAnezB9JyAuIGZvcm1hdCAoIG8wMEkxMUlpaTExaTFJaTEgKSAsIGlJaUkxaWlJSTFJaSAoIG5vbWJyZSA9ICdObyBoYXkgZWxlbWVudG9zJyAsIGNhcmF0dWxhID0gJycgKSAsIFRydWUgKSApCiB4Ym1jcGx1Z2luIC4gYWRkRGlyZWN0b3J5SXRlbXMgKCBpaUlJICwgSWlpaUlpaUlJSSAsIGxlbiAoIElpaWlJaWlJSUkgKSApCiB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpaUlJICkKIGlmIDE1IC0gMTU6IG9vICsgb29Pb29PME9PTyAuIG8wMG9PMG9vME8wTzAgKiBpaUlJaTFpMUlpaSArIG9vb09vTyAlIElJSUkKIGlmIDU2IC0gNTY6IElpIC0gb28KIGlmIDUyIC0gNTI6IElJIC0gbzAwb08wb28wTzBPMCAuIEkxSWlJMUlJSTExaSAtIElpSUkxaTFJICUgSWlJSTFpMUkgLiBvb09vb08wT09PCmRlZiBJMTEgKCByb3dzICwgY2F0ZWdvcnkgPSBOb25lICwgbGFuZyA9IE5vbmUgLCBkYXRlID0gTm9uZSAsIHBhcmFtcyA9IHsgfSApIDoKIElpaWlJaWlJSUkgPSBbIF0KIHRyeSA6CiAgeGJtY3BsdWdpbiAuIHNldENvbnRlbnQgKCBpaUlJICwgInR2c2hvd3MiICkKICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiQ29udGFpbmVyLlNldFZpZXdNb2RlKDUxNSkiICkKIGV4Y2VwdCA6CiAgcGFzcwogIGlmIDcwIC0gNzA6IE9PTyAqIGlJaTExICogSUlJSSAuIEkxSWlJMUlJSTExaSAvIElpMUkgLiBJaUlJMUlpSQogIGlmIDQ0IC0gNDQ6IElJSUkKIGZvciBJaTFJMTExIGluIHJvd3MgOgogIGlpMUlpID0gSWkxSTExMSBbIDAgXQogIGlpaUkgPSBJaTFJMTExIFsgMSBdCiAgb29PbzBPbzAwT29PID0gSWkxSTExMSBbIDIgXQogIElJSTFpSSA9ICcnCiAgaUkxSUlpMTExSWkgPSAnJwogIG8wT29vb09vMDBPb08wb28gPSAnJwogIGlmIGNhdGVnb3J5IGFuZCBJaTFJMTExIFsgMTAgXSAhPSAnR2VuZXJhbCcgYW5kIElpMUkxMTEgWyAxMCBdICE9ICdQZWxpY3VsYScgOgogICBpSTFJSWkxMTFJaSA9ICdbQ09MT1Igc2lsdmVyXSglcykgWy9DT0xPUl0nICUgKCBJaTFJMTExIFsgMTAgXSApCiAgaWYgbGFuZyBhbmQgSWkxSTExMSBbIDkgXSAhPSAnQ2FzdGVsbGFubycgOgogICBJSUkxaUkgPSAnW0NPTE9SIHNpbHZlcl0oJXMpIFsvQ09MT1JdJyAlICggSWkxSTExMSBbIDkgXSApCiAgaWYgZGF0ZSA6CiAgIG8wT29vb09vMDBPb08wb28gPSAnW0NPTE9SIHNpbHZlcl0oJXMpWy9DT0xPUl0nICUgc3RyICggSWkxSTExMSBbIDExIF0gKQogIGlmIG9vT28wT28wME9vTyBhbmQgSWkxSTExMSBbIDggXSA9PSAnTicgOgogICBPb09vT08wMCA9IGl0aGlsIC4gT09vMG9vICggb29PbzBPbzAwT29PICkKICAgaWYgT29Pb09PMDAgPT0gJ3l0JyA6CiAgICBPb28wT29PMG8gPSBpdGhpbCAuIGkxMTEgKCBvb09vME9vMDBPb08gKQogICAgZm9yIGlpMTFJaTExaSBpbiB4cmFuZ2UgKCAwICwgbGVuICggT29vME9vTzBvICkgKSA6CiAgICAgaWYgbGVuICggT29vME9vTzBvICkgPD0gMSA6CiAgICAgIG9Pb29vb29vMDBPbyA9ICcnCiAgICAgZWxzZSA6CiAgICAgIG9Pb29vb29vMDBPbyA9ICIgKCIgKyBzdHIgKCBpaTExSWkxMWkgKyAxICkgKyAiKSIKICAgICBJaTEgPSAnW0NPTE9SIGdvbGRdJXMgWy9DT0xPUl0gJXMgJXMgJXMnICUgKCBpaWlJICsgb09vb29vb28wME9vICwgSUlJMWlJICwgaUkxSUlpMTExSWkgLCBvME9vb29PbzAwT29PMG9vICkKICAgICBvb09vTzBPMCA9IGlJaUkxaWlJSTFJaSAoIG5vbWJyZSA9IElpMSAsIGNhcmF0dWxhID0gSWkxSTExMSBbIDYgXSAsCiBwb3N0ZXIgPSBJaTFJMTExIFsgNyBdICwgdmlkZW8gPSB7ICd0aXRsZScgOiBJaTFJMTExIFsgMyBdICwgJ3llYXInIDogSWkxSTExMSBbIDQgXSAsICdwbG90JyA6IElpMUkxMTEgWyA1IF0gfSApCiAgICAgb29Pb08wTzAgLiBhZGRDb250ZXh0TWVudUl0ZW1zICggWyBvT29PT28gKCBpZCA9ICclcy12JyAlIHN0ciAoIGlpMUlpICkgLCB0eXBlID0gJ3NlcmllcycgLCBub21icmUgPSBJaTEgLCB1cmwgPSBPb28wT29PMG8gWyBpaTExSWkxMWkgXSAsCiBjYXJhdHVsYSA9IElpMUkxMTEgWyA2IF0gLCBwb3N0ZXIgPSBJaTFJMTExIFsgNyBdICkgXSApCiAgICAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggT29vME9vTzBvIFsgaWkxMUlpMTFpIF0gLCBvb09vTzBPMCAsIFRydWUgKSApCiAgIGVsc2UgOgogICAgSWkxID0gJ1tDT0xPUiBnb2xkXSVzIFsvQ09MT1JdICVzICVzICVzJyAlICggaWlpSSAsIElJSTFpSSAsIGlJMUlJaTExMUlpICwgbzBPb29vT28wME9vTzBvbyApCiAgICBvb09vTzBPMCA9IGlJaUkxaWlJSTFJaSAoIG5vbWJyZSA9IElpMSAsIGNhcmF0dWxhID0gSWkxSTExMSBbIDYgXSAsCiBwb3N0ZXIgPSBJaTFJMTExIFsgNyBdICwgdmlkZW8gPSB7ICd0aXRsZScgOiBJaTFJMTExIFsgMyBdICwgJ3llYXInIDogSWkxSTExMSBbIDQgXSAsICdwbG90JyA6IElpMUkxMTEgWyA1IF0gfSApCiAgICBvb0lJSUkgPSAnezB9P3sxfT12aWV3X3NlcmllJnNlcmllX2lkPXsyfScgLiBmb3JtYXQgKCBvMDBJMTFJaWkxMWkxSWkxICwgbzBPMG9PMCAsIGlpMUlpICkKICAgIG9vT29PME8wIC4gYWRkQ29udGV4dE1lbnVJdGVtcyAoCiBbIG9Pb09PbyAoIGlkID0gJyVzLXYnICUgc3RyICggaWkxSWkgKSAsIHR5cGUgPSAnc2VyaWVzJyAsIG5vbWJyZSA9IElpMSAsIHVybCA9IG9vSUlJSSAsIGNhcmF0dWxhID0gSWkxSTExMSBbIDYgXSAsIHBvc3RlciA9IElpMUkxMTEgWyA3IF0gKSBdICkKICAgIElpaWlJaWlJSUkgLiBhcHBlbmQgKCAoIG9vSUlJSSAsIG9vT29PME8wICwgVHJ1ZSApICkKICBlbHNlIDoKICAgSWkxID0gJ1tDT0xPUiBnb2xkXSVzIFsvQ09MT1JdICVzICVzICVzJyAlICggaWlpSSAsIElJSTFpSSAsIGlJMUlJaTExMUlpICwgbzBPb29vT28wME9vTzBvbyApCiAgIG9vT29PME8wID0gaUlpSTFpaUlJMUlpICggbm9tYnJlID0gSWkxICwgY2FyYXR1bGEgPSBJaTFJMTExIFsgNiBdICwKIHBvc3RlciA9IElpMUkxMTEgWyA3IF0gLCB2aWRlbyA9IHsgJ3RpdGxlJyA6IElpMUkxMTEgWyAzIF0gLCAneWVhcicgOiBJaTFJMTExIFsgNCBdICwgJ3Bsb3QnIDogSWkxSTExMSBbIDUgXSB9ICkKICAgb29JSUlJID0gJ3swfT97MX09c2VyaWUmc2VyaWVfaWQ9ezJ9JyAuIGZvcm1hdCAoIG8wMEkxMUlpaTExaTFJaTEgLCBvME8wb08wICwgaWkxSWkgKQogICBvb09vTzBPMCAuIGFkZENvbnRleHRNZW51SXRlbXMgKAogWyBvT29PT28gKCBpZCA9IHN0ciAoIGlpMUlpICkgLCB0eXBlID0gJ3NlcmllcycgLCBub21icmUgPSBJaTEgLCB1cmwgPSBvb0lJSUkgLCBjYXJhdHVsYSA9IElpMUkxMTEgWyA2IF0gLCBwb3N0ZXIgPSBJaTFJMTExIFsgNyBdICkgXSApCiAgIElpaWlJaWlJSUkgLiBhcHBlbmQgKCAoIG9vSUlJSSAsIG9vT29PME8wICwgVHJ1ZSApICkKICAgaWYgNDIgLSA0Mjogb09PICUgSTEKIGlmIGxlbiAoIHJvd3MgKSA+PSBpSWlpSUlpMUlJSTEgOgogIGlmICdjX3BhZ2UnIGluIHBhcmFtcyBhbmQgJ2FjdGlvbicgaW4gcGFyYW1zIDoKICAgdHJ5IDoKICAgIGlpaUkgPSBpaWlJIC4gZW5jb2RlICggJ3V0Zi04JyAsICdpZ25vcmUnICkKICAgZXhjZXB0ICggVW5pY29kZUVuY29kZUVycm9yICwgVW5pY29kZURlY29kZUVycm9yICkgOgogICAgcGFzcwogICBvTzAwMCA9IGludCAoIHBhcmFtcyBbICdjX3BhZ2UnIF0gKQogICBvTzAwMCA9IG9PMDAwICsgMQogICBvb09vTzBPMCA9IGlJaUkxaWlJSTFJaSAoIG5vbWJyZSA9ICdQw6FnaW5hIFNpZ3VpZW50ZSAoJXMpID4nICUgc3RyICggb08wMDAgKSApCiAgIG9vSUlJSSA9ICd7MH0/ezF9PXsyfSZjX3BhZ2U9ezN9JmFsZmE9ezR9JnBhZ2U9ezV9JyAuIGZvcm1hdCAoIG8wMEkxMUlpaTExaTFJaTEgLCBvME8wb08wICwgcGFyYW1zIFsgJ2FjdGlvbicgXSAsIHN0ciAoIG9PMDAwICkgLAogYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKAogImFsZmEgPj0gJyIgKyByb3dzIFsgbGVuICggcm93cyApIC0gMSBdIFsgMTIgXSArICInIiApICwKIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICgKICJub21icmUgPiAnIiArIGlpaUkgKyAiJyIgKSApCiAgIElpaWlJaWlJSUkgLiBhcHBlbmQgKCAoIG9vSUlJSSAsIG9vT29PME8wICwgVHJ1ZSApICkKIHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtcyAoIGlpSUkgLCBJaWlpSWlpSUlJICwgbGVuICggSWlpaUlpaUlJSSApICkKIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGlpSUkgKQogaWYgOTIgLSA5Mjogb29vT29PICogaWkxSTFpaTFJaUlpMSAqIGkxaUkxICogSUlvb29PMG9vTzBvbyAqIElpMUkKIGlmIDQ5IC0gNDk6IElpSUkxaTFJICogSWlJSTFJaUkKIGlmIDg0IC0gODQ6IElpSUkxSWlJICUgSTEgKyBPT08gLiBvMDBvTzBvbzBPME8wIC0gb29Pb29PME9PTwpkZWYgSWlJSTExaSAoIHNlcmllX2lkICkgOgogaWlJaWlpMSA9IHNxbGl0ZTMgLiBjb25uZWN0ICggaWlJICkKIE9vMG9vTzAwID0gaWlJaWlpMSAuIGN1cnNvciAoICkKIE9vMG9vTzAwIC4gZXhlY3V0ZSAoCiAiU0VMRUNUIHNlcmllcy5zZXJpZV9pZCwgc2VyaWVzX3RlbXAudGVtcF9pZCwgc2VyaWVzX3RlbXAubGluaywgc2VyaWVzLm5vbWJyZSwgc2VyaWVzLmFubm8sIHNlcmllcy5zaW5vcHNpcywgc2VyaWVzLmNhcmF0dWxhLCBzZXJpZXMucG9zdGVyLCBzZXJpZXNfdGVtcC5zaW5vcHNpcywgc2VyaWVzX3RlbXAuY2FyYXR1bGEsIHNlcmllc190ZW1wLnBvc3Rlciwgc2VyaWVzX3RlbXAuaGFzX2VwaXNvZGVzLCBzZXJpZXNfdGVtcC5ub21icmUsIHNlcmllcy5saW5rLCBzZXJpZXMucXVhbGl0eSwgc2VyaWVzX3RlbXAucXVhbGl0eSBGUk9NIHNlcmllcyBMRUZUIEpPSU4gc2VyaWVzX3RlbXAgT04gc2VyaWVzLnNlcmllX2lkID0gc2VyaWVzX3RlbXAuc2VyaWVfaWQgd2hlcmUgc2VyaWVzLnNlcmllX2lkPT8gT1JERVIgQlkgc2VyaWVzX3RlbXAudGVtcF9pZCIgLAogKCBzZXJpZV9pZCAsICkgKQogSWkxaUkxaTFpSTFpSSA9IE9vMG9vTzAwIC4gZmV0Y2hhbGwgKCApCiBpaUlpaWkxIC4gY2xvc2UgKCApCiBJaWlpSWlpSUlJID0gWyBdCiBvb08wID0gRmFsc2UKIGlmIGxlbiAoIElpMWlJMWkxaUkxaUkgKSA+IDAgOgogIGlmIElpMWlJMWkxaUkxaUkgWyAwIF0gWyAxMyBdIDoKICAgT29Pb09PMDAgPSBpdGhpbCAuIE9PbzBvbyAoIElpMWlJMWkxaUkxaUkgWyAwIF0gWyAxMyBdICkKICAgaWYgT29Pb09PMDAgPT0gJ3l0JyA6CiAgICBPb28wT29PMG8gPSBpdGhpbCAuIGkxMTEgKCBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgMTMgXSApCiAgICBmb3IgaWkxMUlpMTFpIGluIHhyYW5nZSAoIDAgLCBsZW4gKCBPb28wT29PMG8gKSApIDoKICAgICBpZiBsZW4gKCBPb28wT29PMG8gKSA8PSAxIDoKICAgICAgb09vb29vb28wME9vID0gJycKICAgICBlbHNlIDoKICAgICAgb09vb29vb28wME9vID0gIiAoIiArIHN0ciAoIGlpMTFJaTExaSArIDEgKSArICIpIgogICAgIElpMSA9ICdbQ09MT1IgZ29sZF1MaXN0YSBkZSBDYXDDrXR1bG9zICVzIFsvQ09MT1JdJyAlIG9Pb29vb29vMDBPbwogICAgIG9vT29PME8wID0gaUlpSTFpaUlJMUlpICggbm9tYnJlID0gSWkxICwgY2FyYXR1bGEgPSBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgNiBdICwKIHBvc3RlciA9IElpMWlJMWkxaUkxaUkgWyAwIF0gWyA3IF0gLAogdmlkZW8gPSB7ICd0aXRsZScgOiBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgMyBdICwgJ3llYXInIDogSWkxaUkxaTFpSTFpSSBbIDAgXSBbIDQgXSAsICdwbG90JyA6IElpMWlJMWkxaUkxaUkgWyAwIF0gWyA1IF0gfSApCiAgICAgb29Pb08wTzAgLiBhZGRDb250ZXh0TWVudUl0ZW1zICggWyBvT29PT28gKCBpZCA9ICclcy12JyAlIHN0ciAoIHNlcmllX2lkICkgLCB0eXBlID0gbzAwICwgbm9tYnJlID0gSWkxICwKIHVybCA9IE9vbzBPb08wbyBbIGlpMTFJaTExaSBdICwgY2FyYXR1bGEgPSBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgNiBdICwKIHBvc3RlciA9IElpMWlJMWkxaUkxaUkgWyAwIF0gWyA3IF0gKSBdICkKICAgICBJaWlpSWlpSUlJIC4gYXBwZW5kICggKCBPb28wT29PMG8gWyBpaTExSWkxMWkgXSAsIG9vT29PME8wICwgVHJ1ZSApICkKICAgZWxzZSA6CiAgICBJaTEgPSAnW0NPTE9SIGdvbGRdTGlzdGEgZGUgQ2Fww610dWxvcyBbL0NPTE9SXScKICAgIG9vT29PME8wID0gaUlpSTFpaUlJMUlpICggbm9tYnJlID0gSWkxICwgY2FyYXR1bGEgPSBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgNiBdICwKIHBvc3RlciA9IElpMWlJMWkxaUkxaUkgWyAwIF0gWyA3IF0gLAogdmlkZW8gPSB7ICd0aXRsZScgOiBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgMyBdICwgJ3llYXInIDogSWkxaUkxaTFpSTFpSSBbIDAgXSBbIDQgXSAsCiAncGxvdCcgOiAnVG9kb3MgbG9zIGVwaXNvZGlvcyBkZSBsYSBzZXJpZScgfSApCiAgICBvb0lJSUkgPSAnezB9P3sxfT12aWV3X3NlcmllJnNlcmllX2lkPXsyfScgLiBmb3JtYXQgKCBvMDBJMTFJaWkxMWkxSWkxICwgbzBPMG9PMCAsIHNlcmllX2lkICkKICAgIG9vT29PME8wIC4gYWRkQ29udGV4dE1lbnVJdGVtcyAoIFsgb09vT09vICggaWQgPSAnJXMtdicgJSBzdHIgKCBzZXJpZV9pZCApICwgdHlwZSA9IG8wMCAsIG5vbWJyZSA9IElpMSAsIHVybCA9IG9vSUlJSSAsCiBjYXJhdHVsYSA9IElpMWlJMWkxaUkxaUkgWyAwIF0gWyA2IF0gLCBwb3N0ZXIgPSBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgNyBdICkgXSApCiAgICBpZiA0NyAtIDQ3OiBPT29Pb08wbzBvME9PIC0gSWlJSTFpMUkgLiBJaSAtIE9Pb09vTzBvMG8wT08gLiBJSW9vb08wb29PMG9vICsgSUlJSQogICAgaWYgMzUgLSAzNTogSWkgKiBJSW9vb08wb29PMG9vICUgb29vT29PIC4gb29vT29PCiAgICBpZiAzMCAtIDMwOiBJSUlJIC4gSWlJSTFpMUkgKiBJSUlJIC0gSWkxSSAvIE9Pb09vTzBvMG8wT08gKiBpSWkxMQogICAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggb29JSUlJICwgb29Pb08wTzAgLCBUcnVlICkgKQogZm9yIElpMUkxMTEgaW4gSWkxaUkxaTFpSTFpSSA6CiAgb29PMCA9IEZhbHNlCiAgaWkxSWkgPSBJaTFJMTExIFsgMCBdCiAgaTFJMWlpSWlpID0gSWkxSTExMSBbIDEgXQogIGlmIDQxIC0gNDE6IElpMUkgLSBvbyAlIElpCiAgaWYgSWkxSTExMSBbIDEyIF0gOgogICBvT29PME8wMDAwMCA9IElpMUkxMTEgWyAxMiBdCiAgZWxzZSA6CiAgIG9Pb08wTzAwMDAwID0gJyVzICVzJyAlICggJ1RlbXBvcmFkYScgLCBpMUkxaWlJaWkgKQogIElJaUlpaTFJaUkxaSA9IEkxaWlpMSAoIElpMUkxMTEgWyA1IF0gLCBJaTFJMTExIFsgNiBdICwgSWkxSTExMSBbIDcgXSAsIElpMUkxMTEgWyA4IF0gLCBJaTFJMTExIFsgOSBdICwgSWkxSTExMSBbIDEwIF0gKQogIGlmIElpMUkxMTEgWyAyIF0gOgogICBvME8gPSBUcnVlCiAgIG9vTzAgPSBUcnVlCiAgIE9vT29PTzAwID0gaXRoaWwgLiBPT28wb28gKCBJaTFJMTExIFsgMiBdICkKICAgaWYgT29Pb09PMDAgPT0gJ3l0JyA6CiAgICBPb28wT29PMG8gPSBpdGhpbCAuIGkxMTEgKCBJaTFJMTExIFsgMiBdICkKICAgIGZvciBpaTExSWkxMWkgaW4geHJhbmdlICggMCAsIGxlbiAoIE9vbzBPb08wbyApICkgOgogICAgIGlmIGxlbiAoIE9vbzBPb08wbyApIDw9IDEgOgogICAgICBvT29vb29vbzAwT28gPSAnJwogICAgIGVsc2UgOgogICAgICBvT29vb29vbzAwT28gPSAiICgiICsgc3RyICggaWkxMUlpMTFpICsgMSApICsgIikiCiAgICAgSWkxID0gJ1tDT0xPUiBnb2xkXSVzWy9DT0xPUl0nICUgKCBvT29PME8wMDAwMCArIG9Pb29vb29vMDBPbyApCiAgICAgb29Pb08wTzAgPSBpSWlJMWlpSUkxSWkgKCBub21icmUgPSBJaTEgLCBjYXJhdHVsYSA9IElJaUlpaTFJaUkxaSBbIDEgXSAsCiBwb3N0ZXIgPSBJSWlJaWkxSWlJMWkgWyAyIF0gLAogdmlkZW8gPSB7ICd0aXRsZScgOiBJaTFJMTExIFsgMyBdICwgJ3llYXInIDogSWkxSTExMSBbIDQgXSAsICdwbG90JyA6IElJaUlpaTFJaUkxaSBbIDAgXSB9ICkKICAgICBvb09vTzBPMCAuIGFkZENvbnRleHRNZW51SXRlbXMgKCBbIG9Pb09PbyAoIGlkID0gJyVzJXMtdicgJSAoIHN0ciAoIGlpMUlpICkgLCBzdHIgKCBpMUkxaWlJaWkgKSApICwgdHlwZSA9IG8wMCAsIG5vbWJyZSA9IElpMSAsCiB1cmwgPSBPb28wT29PMG8gWyBpaTExSWkxMWkgXSAsIGNhcmF0dWxhID0gSUlpSWlpMUlpSTFpIFsgMSBdICwgcG9zdGVyID0gSUlpSWlpMUlpSTFpIFsgMiBdICkgXSApCiAgICAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggT29vME9vTzBvIFsgaWkxMUlpMTFpIF0gLCBvb09vTzBPMCAsIFRydWUgKSApCiAgIGVsc2UgOgogICAgSWkxID0gJ1tDT0xPUiBnb2xkXSVzWy9DT0xPUl0nICUgb09vTzBPMDAwMDAKICAgIG9vT29PME8wID0gaUlpSTFpaUlJMUlpICggbm9tYnJlID0gSWkxICwgY2FyYXR1bGEgPSBJSWlJaWkxSWlJMWkgWyAxIF0gLAogcG9zdGVyID0gSUlpSWlpMUlpSTFpIFsgMiBdICwKIHZpZGVvID0geyAndGl0bGUnIDogSWkxSTExMSBbIDMgXSAsICd5ZWFyJyA6IElpMUkxMTEgWyA0IF0gLCAncGxvdCcgOiBJSWlJaWkxSWlJMWkgWyAwIF0gfSApCiAgICBvb0lJSUkgPSAnezB9P3sxfT12aWV3X3RlbXAmc2VyaWVfaWQ9ezJ9JnRlbXBfaWQ9ezN9JyAuIGZvcm1hdCAoIG8wMEkxMUlpaTExaTFJaTEgLCBvME8wb08wICwgaWkxSWkgLCBpMUkxaWlJaWkgKQogICAgb29Pb08wTzAgLiBhZGRDb250ZXh0TWVudUl0ZW1zICggWyBvT29PT28gKCBpZCA9ICclcyVzLXYnICUgKCBzdHIgKCBpaTFJaSApICwgc3RyICggaTFJMWlpSWlpICkgKSAsIHR5cGUgPSBvMDAgLCBub21icmUgPSBJaTEgLAogdXJsID0gb29JSUlJICwgY2FyYXR1bGEgPSBJSWlJaWkxSWlJMWkgWyAxIF0gLCBwb3N0ZXIgPSBJSWlJaWkxSWlJMWkgWyAyIF0gKSBdICkKICAgIGlmIDU0IC0gNTQ6IElJSUkgLiBJMUlpSTFJSUkxMWkgKiBPT08gLSBJaUlJMUlpSQogICAgaWYgNzcgLSA3NzogSUkgKiBvb09vb08wT09PICUgSTEgKyBJMSAvIG9PTwogICAgaWYgMjEgLSAyMTogSTEgLiBJaUlJMWkxSSAvIElJSUkgJSBJSSAtIEkxCiAgICBJaWlpSWlpSUlJIC4gYXBwZW5kICggKCBvb0lJSUkgLCBvb09vTzBPMCAsIG8wTyApICkKICBpZiBJaTFJMTExIFsgMTEgXSA9PSAnWScgOgogICBJaTEgPSAnW0NPTE9SIGdvbGRdJXMgWy9DT0xPUl0nICUgb09vTzBPMDAwMDAKICAgaWYgSWkxSTExMSBbIDIgXSA6CiAgICBJaTEgPSAnJXMgW0NPTE9SIHdoaXRlXShBbHRlcm5hdGl2bylbL0NPTE9SXScgJSAoIElpMSApCiAgIG9vT29PME8wID0gaUlpSTFpaUlJMUlpICggbm9tYnJlID0gSWkxICwgY2FyYXR1bGEgPSBJSWlJaWkxSWlJMWkgWyAxIF0gLAogcG9zdGVyID0gSUlpSWlpMUlpSTFpIFsgMiBdICwKIHZpZGVvID0geyAndGl0bGUnIDogSWkxSTExMSBbIDMgXSAsICd5ZWFyJyA6IElpMUkxMTEgWyA0IF0gLCAncGxvdCcgOiBJSWlJaWkxSWlJMWkgWyAwIF0gfSApCiAgIG9vSUlJSSA9ICd7MH0/ezF9PWxpc3RfdGVtcCZzZXJpZV9pZD17Mn0mdGVtcF9pZD17M30mY2FyYXR1bGE9ezR9JnBvc3Rlcj17NX0nIC4gZm9ybWF0ICggbzAwSTExSWlpMTFpMUlpMSAsIG8wTzBvTzAgLCBpaTFJaSAsIGkxSTFpaUlpaSAsCiBJSWlJaWkxSWlJMWkgWyAxIF0gLCBJSWlJaWkxSWlJMWkgWyAyIF0gKQogICBvb09vTzBPMCAuIGFkZENvbnRleHRNZW51SXRlbXMgKCBbIG9Pb09PbyAoIGlkID0gJyVzJXMnICUgKCBzdHIgKCBpaTFJaSApICwgc3RyICggaTFJMWlpSWlpICkgKSAsIHR5cGUgPSBvMDAgLCBub21icmUgPSBJaTEgLCB1cmwgPSBvb0lJSUkgLAogY2FyYXR1bGEgPSBJSWlJaWkxSWlJMWkgWyAxIF0gLCBwb3N0ZXIgPSBJSWlJaWkxSWlJMWkgWyAyIF0gKSBdICkKICAgaWYgNzggLSA3ODogb09PCiAgIGlmIDg3IC0gODc6IGlpSUlpMWkxSWlpICogaWkxSTFpaTFJaUlpMSAvIG9PTyAlIE9PTyAvIE9Pb09vTzBvMG8wT08KICAgaWYgMzggLSAzODogT09vT29PMG8wbzBPTyAqIEkxIC8gaUlpMTEKICAgaWYgNzAgLSA3MDogb29vT29PICogSWlJSTFJaUkgLiBJSSAuIGlJaTExICogSTEgKyBvb29Pb08KICAgbzBPID0gVHJ1ZQogICBvb08wID0gVHJ1ZQogICBJaWlpSWlpSUlJIC4gYXBwZW5kICggKCBvb0lJSUkgLCBvb09vTzBPMCAsIG8wTyApICkKIHRyeSA6CiAgeGJtY3BsdWdpbiAuIHNldENvbnRlbnQgKCBpaUlJICwgInR2c2hvd3MiICkKICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiQ29udGFpbmVyLlNldFZpZXdNb2RlKDUxNSkiICkKIGV4Y2VwdCA6CiAgcGFzcwogaWYgb29PMCA6CiAgeGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW1zICggaWlJSSAsIElpaWlJaWlJSUkgLCBsZW4gKCBJaWlpSWlpSUlJICkgKQogIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGlpSUkgKQogZWxzZSA6CiAgeGJtYyAuIGxvZyAoICJbYWRkb24uUGFsYW50aXItJXNdOiBObyBpbmZvIGZvdW5kIGZvciBzZXJpZSAlcyAiICUgKCBpaUlJaWlpSTExICwgc2VyaWVfaWQgKSApCiAgaWYgNzcgLSA3NzogbzAwb08wb28wTzBPMCAlIEkxCiAgaWYgNzIgLSA3MjogaWkxSTFpaTFJaUlpMSArIElpICogSUlvb29PMG9vTzBvbyAqIElpSUkxaTFJICUgaWlJSWkxaTFJaWkKICBpZiA4MyAtIDgzOiBJMUlpSTFJSUkxMWkgLyBPT08gLiBJaSAuIGlpSUlpMWkxSWlpICUgSUkgLyBJMUlpSTFJSUkxMWkKZGVmIE9Pb09Pb09PME9PMCAoIHNlcmllX2lkICwgdGVtcF9pZCAsIGNhcmF0dWxhICwgcG9zdGVyICkgOgogSWkxaUkxaTFpSTFpSSA9IEkxSWkxSWlJSWlJICggImNhcGl0dWxvcyIgLCBbICJzZXJpZV9pZCIgLCAidGVtcF9pZCIgLCAiY2FwaXR1bG9faWQiICwgIicnIiAsICInJyIgLCAiJyciICwgImxpbmsiICwgInF1YWxpdHkiICwKICJub21icmUiICwgImFubm8iICwgInNpbm9wc2lzIiAsICJjYXJhdHVsYSIgLCAicG9zdGVyIiAsICJ1cGRhdGVkIiBdICwgWyAic2VyaWVfaWQiICwgInRlbXBfaWQiIF0gLAogWyBzZXJpZV9pZCAsIHRlbXBfaWQgXSAsIFsgJ2NhcGl0dWxvcy5ub21icmUnICwgJ2NhcGl0dWxvcy5jYXBpdHVsb19pZCcgXSApCiBvT09vbzAgKCBJaTFpSTFpMWlJMWlJICwgbzAwICwgY2FyYXR1bGEgLCBwb3N0ZXIgKQogaWYgOTYgLSA5Njogb29Pb29PME9PTyArIElpCiBpZiA4IC0gODogb28gJSBJaUlJMWkxSSArIGlJaTExICUgSWlJSTFpMUkgJSBJSUlJIC8gT09PCiBpZiAxNyAtIDE3OiBpSWkxMQpkZWYgb08wMG9PbyAoIHNlcmllX2lkICwgdGVtcF9pZCApIDoKIGlpSWlpaTEgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGlpSSApCiBPbzBvb08wMCA9IGlpSWlpaTEgLiBjdXJzb3IgKCApCiBPbzBvb08wMCAuIGV4ZWN1dGUgKAogIlNFTEVDVCBzZXJpZXMuc2VyaWVfaWQsIHNlcmllc190ZW1wLnRlbXBfaWQsICcnLCAnJywgJycsICcnLCBzZXJpZXNfdGVtcC5saW5rLCBzZXJpZXNfdGVtcC5xdWFsaXR5LCBzZXJpZXMubm9tYnJlLCBzZXJpZXNfdGVtcC5hbm5vLCBzZXJpZXMuc2lub3BzaXMsIHNlcmllcy5jYXJhdHVsYSwgc2VyaWVzLnBvc3Rlciwgc2VyaWVzX3RlbXAuc2lub3BzaXMsIHNlcmllc190ZW1wLmNhcmF0dWxhLCBzZXJpZXNfdGVtcC5wb3N0ZXIgRlJPTSBzZXJpZXMgSU5ORVIgSk9JTiBzZXJpZXNfdGVtcCBPTiBzZXJpZXMuc2VyaWVfaWQ9c2VyaWVzX3RlbXAuc2VyaWVfaWQgd2hlcmUgc2VyaWVzX3RlbXAuc2VyaWVfaWQ9PyBBTkQgc2VyaWVzX3RlbXAudGVtcF9pZD0/IiAsCiAoIHNlcmllX2lkICwgdGVtcF9pZCAsICkgKQogSWkxaUkxaTFpSTFpSSA9IE9vMG9vTzAwIC4gZmV0Y2hhbGwgKCApCiBpaUlpaWkxIC4gY2xvc2UgKCApCiBJSWlJaWkxSWlJMWkgPSBJMWlpaTEgKCBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgMTAgXSAsIElpMWlJMWkxaUkxaUkgWyAwIF0gWyAxMSBdICwgSWkxaUkxaTFpSTFpSSBbIDAgXSBbIDEyIF0gLCBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgMTMgXSAsIElpMWlJMWkxaUkxaUkgWyAwIF0gWyAxNCBdICwgSWkxaUkxaTFpSTFpSSBbIDAgXSBbIDE1IF0gKQogSWlpSWlJaUlJID0gaXRoaWwgLiBpMTFJaSAoIElpMWlJMWkxaUkxaUkgWyAwIF0gWyA2IF0gLCBpaUkgLCBzZXJpZV9pZCAsIHRlbXBfaWQgKQogbzBvMDBvbzBPbzBvbyA9IFsgTm9uZSBdICogbGVuICggSWlpSWlJaUlJICkKIGZvciBpaTExSWkxMWkgaW4geHJhbmdlICggMCAsIGxlbiAoIElpaUlpSWlJSSApICkgOgogIG8wbzAwb28wT28wb28gWyBpaTExSWkxMWkgXSA9IGxpc3QgKCBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgOiBsZW4gKCBJaTFpSTFpMWlJMWlJIFsgMCBdICkgLSAzIF0gKQogIG8wbzAwb28wT28wb28gWyBpaTExSWkxMWkgXSBbIDEwIF0gPSBJSWlJaWkxSWlJMWkgWyAwIF0KICBvMG8wMG9vME9vMG9vIFsgaWkxMUlpMTFpIF0gWyAxMSBdID0gSUlpSWlpMUlpSTFpIFsgMSBdCiAgbzBvMDBvbzBPbzBvbyBbIGlpMTFJaTExaSBdIFsgMTIgXSA9IElJaUlpaTFJaUkxaSBbIDIgXQogIG8wbzAwb28wT28wb28gWyBpaTExSWkxMWkgXSBbIDYgXSA9IElpaUlpSWlJSSBbIGlpMTFJaTExaSBdIFsgMSBdCiAgbzBvMDBvbzBPbzBvbyBbIGlpMTFJaTExaSBdIFsgOCBdID0gSWlpSWlJaUlJIFsgaWkxMUlpMTFpIF0gWyAwIF0KICBvMG8wMG9vME9vMG9vIFsgaWkxMUlpMTFpIF0gWyAxMCBdID0gJycKIG9PT29vMCAoIG8wbzAwb28wT28wb28gLCBvMDAgKQogaWYgNDMgLSA0Mzogb09PIC4gSTEgKiBvbwogaWYgNTUgLSA1NTogSWkgLyBJMUlpSTFJSUkxMWkgKiBvbyAtIEkxICsgSUlJSQogaWYgNjMgLSA2MzogbzAwb08wb28wTzBPMApkZWYgb09PbzBPMCAoIHNlcmllX2lkICkgOgogSWkxaUkxaTFpSTFpSSA9IEkxSWkxSWlJSWlJICggInNlcmllcyIgLAogWyAic2VyaWVfaWQiICwgIicnIiAsICInJyIgLCAiJyciICwgIicnIiAsICInJyIgLCAibGluayIgLCAicXVhbGl0eSIgLCAibm9tYnJlIiAsICJhbm5vIiAsICJzaW5vcHNpcyIgLAogImNhcmF0dWxhIiAsICJwb3N0ZXIiICwgInVwZGF0ZWQiCiBdICwgWyAic2VyaWVfaWQiIF0gLCBbIHNlcmllX2lkIF0gLCBbICdzZXJpZV9pZCcgXSApCiBpZiAyOSAtIDI5OiBJSQogaWYgMjEgLSAyMTogaUlpMTEgLyBvT08gLiBJSW9vb08wb29PMG9vICogT09vT29PMG8wbzBPTyAuIGlJaTExIC8gaWlJSWkxaTFJaWkKIElpaUlpSWlJSSA9IGl0aGlsIC4gaTExSWkgKCBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgNiBdICwgaWlJICwgc2VyaWVfaWQgKQogbzBvMDBvbzBPbzBvbyA9IFsgTm9uZSBdICogbGVuICggSWlpSWlJaUlJICkKIGZvciBpaTExSWkxMWkgaW4geHJhbmdlICggMCAsIGxlbiAoIElpaUlpSWlJSSApICkgOgogIG8wbzAwb28wT28wb28gWyBpaTExSWkxMWkgXSA9IGxpc3QgKCBJaTFpSTFpMWlJMWlJIFsgMCBdIFsgOiBdICkKICBvMG8wMG9vME9vMG9vIFsgaWkxMUlpMTFpIF0gWyA2IF0gPSBJaWlJaUlpSUkgWyBpaTExSWkxMWkgXSBbIDEgXQogIG8wbzAwb28wT28wb28gWyBpaTExSWkxMWkgXSBbIDggXSA9IElpaUlpSWlJSSBbIGlpMTFJaTExaSBdIFsgMCBdCiAgbzBvMDBvbzBPbzBvbyBbIGlpMTFJaTExaSBdIFsgMTAgXSA9ICcnCiBvT09vbzAgKCBvMG8wMG9vME9vMG9vICwgbzAwICkKIGlmIDE4IC0gMTg6IElpIC8gbzAwb08wb28wTzBPMCAlIE9Pb09vTzBvMG8wT08KIGlmIDQ1IC0gNDU6IElJSUkgJSBpMWlJMSArIE9PTyAtIG9PTwogaWYgODcgLSA4NzogSTFJaUkxSUlJMTFpICsgT09vT29PMG8wbzBPTwpkZWYgTzBPb28wMDBvICggKSA6CiBJaWlpSWlpSUlJID0gWyBdCiBmb3IgaWkxMUlpMTFpIGluIHJhbmdlICggMCAsIDEwICkgOgogIG9Pb08wb28wMDBPTyA9IGRhdGV0aW1lIC4gZGF0ZXRpbWUgLiBub3cgKCApIC4geWVhciAtIGlpMTFJaTExaQogIElpMSA9ICdbQ09MT1IgZ29sZF0lc1svQ09MT1JdJyAlICggb09vTzBvbzAwME9PICkKICBvb09vTzBPMCA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGxhYmVsID0gSWkxICwgaWNvbkltYWdlID0gJycgKQogIG9vSUlJSSA9ICd7MH0/YWN0aW9uPXsxfSZhbm5vPXsyfScgLiBmb3JtYXQgKCBvMDBJMTFJaWkxMWkxSWkxICwgInVsdGltYXNfcGVsaXNfYW55b19kZXRhaWwiICwgb09vTzBvbzAwME9PICkKICBvME8gPSBUcnVlCiAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggb29JSUlJICwgb29Pb08wTzAgLCBvME8gKSApCiB0cnkgOgogIHhibWNwbHVnaW4gLiBzZXRDb250ZW50ICggaWlJSSAsICJmaWxlcyIgKQogIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJDb250YWluZXIuU2V0Vmlld01vZGUoNTAyKSIgKQogZXhjZXB0IDoKICBwYXNzCiB4Ym1jcGx1Z2luIC4gYWRkRGlyZWN0b3J5SXRlbXMgKCBpaUlJICwgSWlpaUlpaUlJSSAsIGxlbiAoIElpaWlJaWlJSUkgKSApCiB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpaUlJICkKIGlmIDc5IC0gNzk6IG8wMG9PMG9vME8wTzAKZGVmIEkxaUkxSTFpICggYWN0aW9uICwgY29uZGl0aW9uID0gJycgKSA6CiBpaUlpaWkxID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBpaUkgKQogT28wb29PMDAgPSBpaUlpaWkxIC4gY3Vyc29yICggKQogT28wb29PMDAgLiBleGVjdXRlICggIlNlbGVjdCBhbm5vLGNvdW50KHBlbGlfaWQpIGZyb20gcGVsaXMgJXMgZ3JvdXAgYnkgYW5ubyBvcmRlciBieSBhbm5vIGRlc2MiICUgY29uZGl0aW9uICkKIElpMWlJMWkxaUkxaUkgPSBPbzBvb08wMCAuIGZldGNoYWxsICggKQogaWlJaWlpMSAuIGNsb3NlICggKQogSWlpaUlpaUlJSSA9IFsgXQogZm9yIElpMUkxMTEgaW4gSWkxaUkxaTFpSTFpSSA6CiAgb09vTzBvbzAwME9PID0gSWkxSTExMSBbIDAgXQogIG8wID0gSWkxSTExMSBbIDEgXQogIElpMSA9ICdbQ09MT1IgZ29sZF0lc1svQ09MT1JdICglcyknICUgKCBvT29PMG9vMDAwT08gLCBvMCApCiAgb29Pb08wTzAgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBsYWJlbCA9IElpMSAsIGljb25JbWFnZSA9ICcnICkKICBvb0lJSUkgPSAnezB9P2FjdGlvbj17MX0mYW5ubz17Mn0nIC4gZm9ybWF0ICggbzAwSTExSWlpMTFpMUlpMSAsIGFjdGlvbiAsIG9Pb08wb28wMDBPTyApCiAgbzBPID0gVHJ1ZQogIElpaWlJaWlJSUkgLiBhcHBlbmQgKCAoIG9vSUlJSSAsIG9vT29PME8wICwgbzBPICkgKQogdHJ5IDoKICB4Ym1jcGx1Z2luIC4gc2V0Q29udGVudCAoIGlpSUkgLCAiZmlsZXMiICkKICB4Ym1jIC4gZXhlY3V0ZWJ1aWx0aW4gKCAiQ29udGFpbmVyLlNldFZpZXdNb2RlKDUwMikiICkKIGV4Y2VwdCA6CiAgcGFzcwogeGJtY3BsdWdpbiAuIGFkZERpcmVjdG9yeUl0ZW1zICggaWlJSSAsIElpaWlJaWlJSUkgLCBsZW4gKCBJaWlpSWlpSUlJICkgKQogeGJtY3BsdWdpbiAuIGVuZE9mRGlyZWN0b3J5ICggaWlJSSApCiBpZiA2NyAtIDY3OiBPT29Pb08wbzBvME9PCiBpZiA2NiAtIDY2OiBPT29Pb08wbzBvME9PCmRlZiBvMG8wTzAwb09vICggKSA6CiBpaUlpaWkxID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBpaUkgKQogT28wb29PMDAgPSBpaUlpaWkxIC4gY3Vyc29yICggKQogaWYgOTIgLSA5MjogSWlJSTFJaUkgJSBpMWlJMSAvIEkxICUgbzAwb08wb28wTzBPMAogT28wb29PMDAgLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYzJWc1pXTjBJSE5oWjJGZmJtRnRaU0JtY205dEtGTkZURVZEVkNCemRXSnpkSElvYzJGbllTd2djRzl6S3pFcElFRlRJSE5oWjJGZmJtRnRaU0JHVWs5TktGTkZURVZEVkNBcUxHbHVjM1J5S0hOaFoyRXNKeU1uS1NCQlV5QndiM01nUmxKUFRTQndaV3hwY3lCM2FHVnlaU0J6WVdkaElHbHpJRzV2ZENCdWRXeHNLU0JWVGtsUFRpQlRSVXhGUTFRZ2MzVmljM1J5S0hOaFoyRXNJREVzSUhCdmN5MHhLU0JCVXlCellXZGhYMjVoYldVZ1JsSlBUU2hUUlV4RlExUWdLaXhwYm5OMGNpaHpZV2RoTENjakp5a2dRVk1nY0c5eklFWlNUMDBnY0dWc2FYTWdkMmhsY21VZ2MyRm5ZU0JwY3lCdWIzUWdiblZzYkNrcElIZG9aWEpsSUhOaFoyRmZibUZ0WlNBOFBpQW5KeUJ2Y21SbGNpQmllU0J6WVdkaFgyNWhiV1U9JyApICkKIElpMWlJMWkxaUkxaUkgPSBPbzBvb08wMCAuIGZldGNoYWxsICggKQogaWlJaWlpMSAuIGNsb3NlICggKQogSWlpaUlpaUlJSSA9IFsgXQogZm9yIElpMUkxMTEgaW4gSWkxaUkxaTFpSTFpSSA6CiAgaWkxaSA9IElpMUkxMTEgWyAwIF0KICB0cnkgOgogICBpaTFpID0gaWkxaSAuIGVuY29kZSAoICd1dGYtOCcgLCAnaWdub3JlJyApCiAgZXhjZXB0ICggVW5pY29kZUVuY29kZUVycm9yICwgVW5pY29kZURlY29kZUVycm9yICkgOgogICBwYXNzCiAgSWkxID0gJ1tDT0xPUiBnb2xkXSVzWy9DT0xPUl0nICUgaWkxaQogIG9vT29PME8wID0geGJtY2d1aSAuIExpc3RJdGVtICggbGFiZWwgPSBJaTEgLCBpY29uSW1hZ2UgPSAnJyApCiAgb29JSUlJID0gJ3swfT9hY3Rpb249c2FnYV9kZXRhaWwmc2FnYT17MX0nIC4gZm9ybWF0ICggbzAwSTExSWlpMTFpMUlpMSAsIGJhc2U2NCAuIHVybHNhZmVfYjY0ZW5jb2RlICggaWkxaSApICkKICBvME8gPSBUcnVlCiAgSWlpaUlpaUlJSSAuIGFwcGVuZCAoICggb29JSUlJICwgb29Pb08wTzAgLCBvME8gKSApCiB0cnkgOgogIHhibWNwbHVnaW4gLiBzZXRDb250ZW50ICggaWlJSSAsICJmaWxlcyIgKQogIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJDb250YWluZXIuU2V0Vmlld01vZGUoNTAyKSIgKQogZXhjZXB0IDoKICBwYXNzCiB4Ym1jcGx1Z2luIC4gYWRkRGlyZWN0b3J5SXRlbXMgKCBpaUlJICwgSWlpaUlpaUlJSSAsIGxlbiAoIElpaWlJaWlJSUkgKSApCiB4Ym1jcGx1Z2luIC4gZW5kT2ZEaXJlY3RvcnkgKCBpaUlJICkKIGlmIDk5IC0gOTk6IG9vIC0gb09PIC0gSUlJSSAuIElpSUkxaTFJIC4gSWkKIGlmIDgwIC0gODA6IElJSUkgKyBJaUlJMWkxSSAuIE9Pb09vTzBvMG8wT08KZGVmIGlJaWkxSSAoICkgOgogSWkxaUkxaTFpSTFpSSA9IFsgIjNEIiAsICI0SyIgLCAiQWNjaW9uIiAsICJBbmltYWNpb24iICwgIkF2ZW50dXJhcyIgLCAiQmVsaWNvIiAsICJDaWVuY2lhIGZpY2Npb24iICwgIkNpbmUgbmVncm8iICwgIkNvbWVkaWEiICwgIkRvY3VtZW50YWwiICwgIkRyYW1hIiAsICJGYW50YXN0aWNvIiAsICJJbmZhbnRpbCIgLCAiSW50cmlnYSIgLCAiTXVzaWNhbCIgLCAiUm9tYW5jZSIgLCAiU2VyaWUgZGUgVFYiICwgIlRlcnJvciIgLCAiVGhyaWxsZXIiICwgIldlc3Rlcm4iIF0KIElpaWlJaWlJSUkgPSBbIF0KIGZvciBJaTFJMTExIGluIElpMWlJMWkxaUkxaUkgOgogIGkxSUlJMUkxSUlJaUkgPSBJaTFJMTExCiAgdHJ5IDoKICAgaTFJSUkxSTFJSUlpSSA9IGkxSUlJMUkxSUlJaUkgLiBlbmNvZGUgKCAndXRmLTgnICwgJ2lnbm9yZScgKQogIGV4Y2VwdCAoIFVuaWNvZGVFbmNvZGVFcnJvciAsIFVuaWNvZGVEZWNvZGVFcnJvciApIDoKICAgcGFzcwogIElpMSA9ICdbQ09MT1IgZ29sZF0lc1svQ09MT1JdJyAlIGkxSUlJMUkxSUlJaUkKICBvb09vTzBPMCA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGxhYmVsID0gSWkxICwgaWNvbkltYWdlID0gJycgKQogIG9vSUlJSSA9ICd7MH0/YWN0aW9uPWdlbmVyb19kZXRhaWwmZ2VuZXJvPXsxfScgLiBmb3JtYXQgKCBvMDBJMTFJaWkxMWkxSWkxICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRlbmNvZGUgKCBpMUlJSTFJMUlJSWlJICkgKQogIG8wTyA9IFRydWUKICBJaWlpSWlpSUlJIC4gYXBwZW5kICggKCBvb0lJSUkgLCBvb09vTzBPMCAsIG8wTyApICkKIHRyeSA6CiAgeGJtY3BsdWdpbiAuIHNldENvbnRlbnQgKCBpaUlJICwgImZpbGVzIiApCiAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIkNvbnRhaW5lci5TZXRWaWV3TW9kZSg1MDIpIiApCiBleGNlcHQgOgogIHBhc3MKIHhibWNwbHVnaW4gLiBhZGREaXJlY3RvcnlJdGVtcyAoIGlpSUkgLCBJaWlpSWlpSUlJICwgbGVuICggSWlpaUlpaUlJSSApICkKIHhibWNwbHVnaW4gLiBlbmRPZkRpcmVjdG9yeSAoIGlpSUkgKQogaWYgMzkgLSAzOTogaWkxSTFpaTFJaUlpMSArIGlJaTExIC4gT09PICUgSUlJSSAtIEkxCiBpZiA4MCAtIDgwOiBJaSAuIE9PTwpkZWYgaUkxaSAoIHNhZ2EgLCBwYXJhbXMgKSA6CiBJaTFpSTFpMWlJMWlJID0gSUlpSUkxMWlpaTEgKCAicGVsaXMiICwgInNhZ2EiICwKIFsgInBlbGlfaWQiICwgIicnIiAsICInJyIgLCAiaGQiICwgIicnIiAsICInJyIgLCAibGluayIgLCAicXVhbGl0eSIgLCAibm9tYnJlIiAsICJhbm5vIiAsICJzaW5vcHNpcyIgLAogImNhcmF0dWxhIiAsICJwb3N0ZXIiICwgInN0cmZ0aW1lKCclWS0lbS0lZCcsdXBkYXRlZCksIHB1bnRvcyIKIF0gLCBbICJzYWdhIiBdICwgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBzYWdhICkgLiBkZWNvZGUgKCAndXRmLTgnICkgLCBbICdub21icmUnIF0gKQogb09Pb28wICggSWkxaUkxaTFpSTFpSSAsICdwZWxpcycgLCBpbmZvID0gcGFyYW1zICkKIGlmIDk2IC0gOTY6IG9vIC8gaWlJSWkxaTFJaWkgLyBPT08gKiBPT29Pb08wbzBvME9PIC8gSWlJSTFpMUkgLyBvMDBvTzBvbzBPME8wCmRlZiBpMUlpICggZ2VuICwgcGFyYW1zICkgOgogSWkxaUkxaTFpSTFpSSA9IElJaUlJMTFpaWkxICggInBlbGlzIiAsICJnZW5lcm8iICwKIFsgInBlbGlfaWQiICwgIicnIiAsICInJyIgLCAiaGQiICwgIicnIiAsICInJyIgLCAibGluayIgLCAicXVhbGl0eSIgLCAibm9tYnJlIiAsICJhbm5vIiAsICJzaW5vcHNpcyIgLAogImNhcmF0dWxhIiAsICJwb3N0ZXIiICwgInN0cmZ0aW1lKCclWS0lbS0lZCcsdXBkYXRlZCksIHB1bnRvcyIKIF0gLCBbICJnZW5lcm8iIF0gLCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIGdlbiApIC4gZGVjb2RlICggJ3V0Zi04JyApICwgWyAnbm9tYnJlJyBdICkKIG9PT29vMCAoIElpMWlJMWkxaUkxaUkgLCAncGVsaXMnICwgaW5mbyA9IHBhcmFtcyApCiBpZiA4OCAtIDg4OiBJaSAlIElpSUkxaTFJIC4gaWlJSWkxaTFJaWkgKiBJaUlJMWkxSQpkZWYgaWkxaWlpMWkxMSAoIGFubm8gLCBvcmRlciAsIHBhcmFtcyApIDoKIElpMWlJMWkxaUkxaUkgPSBJMUlpMUlpSUlpSSAoICJwZWxpcyIgLAogWyAicGVsaV9pZCIgLCAiJyciICwgIicnIiAsICJoZCIgLCAiJyciICwgIicnIiAsICJsaW5rIiAsICJxdWFsaXR5IiAsICJub21icmUiICwgImFubm8iICwgInNpbm9wc2lzIiAsCiAiY2FyYXR1bGEiICwgInBvc3RlciIgLCAic3RyZnRpbWUoJyVZLSVtLSVkJyx1cGRhdGVkKSwgcHVudG9zIgogXSAsIFsgImFubm8iIF0gLCBbIGFubm8gXSAsIG9yZGVyICwgcGFyYW1zICkKIG9PT29vMCAoIElpMWlJMWkxaUkxaUkgLCAncGVsaXMnICwgaW5mbyA9IHBhcmFtcyApCiBpZiA2MyAtIDYzOiBJSUlJICogaTFpSTEgLyBJaUlJMUlpSSAqIGlpSUlpMWkxSWlpIC4gT09PICUgSWlJSTFJaUkKZGVmIG8wMG9PT09vT09vME8gKCBjYXRlZ29yeSAsIG9yZGVyICwgcGFyYW1zID0geyB9ICkgOgogSWkxaUkxaTFpSTFpSSA9IEkxSWkxSWlJSWlJICggInBlbGlzIiAsCiBbICJwZWxpX2lkIiAsICInJyIgLCAiJyciICwgImhkIiAsICInJyIgLCAiJyciICwgImxpbmsiICwgInF1YWxpdHkiICwgIm5vbWJyZSIgLCAiYW5ubyIgLCAic2lub3BzaXMiICwKICJjYXJhdHVsYSIgLCAicG9zdGVyIiAsICJzdHJmdGltZSgnJVktJW0tJWQnLHVwZGF0ZWQpLCBwdW50b3MiCiBdICwgWyAiY2F0ZWdvcnkiIF0gLCBjYXRlZ29yeSAsIG9yZGVyICwgcGFyYW1zICkKIG9PT29vMCAoIElpMWlJMWkxaUkxaUkgLCAncGVsaXMnICwgaW5mbyA9IHBhcmFtcyApCiBpZiA4NCAtIDg0OiBJMUlpSTFJSUkxMWkgLiBJaUlJMUlpSSAqIElJb29vTzBvb08wb28KZGVmIElJaUlJMTFpaWkxICggdGFibGUgLCBjb2x1bW5fY29uZCAsIHZhbHVlcyAsIGlkICwgaWRfdmFsdWUgLCBvcmRlciAsIHBhcmFtcyA9ICcnICkgOgogT28wTzBvT28gPSBzcWxpdGUzIC4gY29ubmVjdCAoIGlpSSApCiBPbzBvb08wMCA9IE9vME8wb09vIC4gY3Vyc29yICggKQogT28wb29PMDAgLiBleGVjdXRlICggIlNFTEVDVCAiICsgIiwiIC4gam9pbiAoIHZhbHVlcyApICsgIiwiICsgIiwiIC4gam9pbiAoIGlkICkgKyAiIEZST00gIiArIHRhYmxlICsgIiBXSEVSRSAiICsgY29sdW1uX2NvbmQgKyAiIGxpa2UgJyIgKyBpZF92YWx1ZSArICInIG9yICIgKyBjb2x1bW5fY29uZCArICIgbGlrZSAnIiArIGlkX3ZhbHVlICsgIiMlJyBvciAiICsgY29sdW1uX2NvbmQgKyAiIGxpa2UgJyUjIiArIGlkX3ZhbHVlICsgIicgb3JkZXIgYnkgIiArICIsIiAuIGpvaW4gKCBvcmRlciApICsgcGFyYW1zICkKIElpMWlJMWkxaUkxaUkgPSBPbzBvb08wMCAuIGZldGNoYWxsICggKQogT28wTzBvT28gLiBjbG9zZSAoICkKIHJldHVybiBJaTFpSTFpMWlJMWlJCiBpZiA3NCAtIDc0OiBPT08gJSBJaUlJMUlpSQpkZWYgSTFJaTFJaUlJaUkgKCB0YWJsZSAsIHZhbHVlcyAsIGlkcyAsIGlkc192YWx1ZSAsIG9yZGVyICwgcGFyYW1zID0gJycgKSA6CiBpZiBwYXJhbXMgYW5kICdzcWxfbGltaXQnIGluIHBhcmFtcyA6CiAgb29PTzBvbyA9IHBhcmFtcyBbICdzcWxfbGltaXQnIF0KIGVsc2UgOgogIG9vT08wb28gPSAnJwogaWYgcGFyYW1zIGFuZCAnc3FsX2NvbmQnIGluIHBhcmFtcyA6CiAgaUlpSUlJSUkxSWkxaSA9IHBhcmFtcyBbICdzcWxfY29uZCcgXSArICcgYW5kICcKIGVsc2UgOgogIGlJaUlJSUlJMUlpMWkgPSAnJwogT28wTzBvT28gPSBzcWxpdGUzIC4gY29ubmVjdCAoIGlpSSApCiBPbzBvb08wMCA9IE9vME8wb09vIC4gY3Vyc29yICggKQogaWYgbGVuICggaWRzICkgPT0gbGVuICggaWRzX3ZhbHVlICkgYW5kIGxlbiAoIGlkcyApID09IDAgOgogIGlmIDE2IC0gMTY6IG9vICsgT09vT29PMG8wbzBPTyAtIG9vb09vTyAvIElpMUkgKyBvT08KICBPbzBvb08wMCAuIGV4ZWN1dGUgKCAiU0VMRUNUICIgKyAiLCIgLiBqb2luICggdmFsdWVzICkgKyAiIEZST00gIiArIHRhYmxlICsgIiBvcmRlciBieSAiICsgIiwiIC4gam9pbiAoIG9yZGVyICkgKyBvb09PMG9vICkKIGVsc2UgOgogIGlmIDY1IC0gNjU6IElpMUkgLyBpaTFJMWlpMUlpSWkxIC8gbzAwb08wb28wTzBPMCAvIG9PTwogIE9vMG9vTzAwIC4gZXhlY3V0ZSAoICJTRUxFQ1QgIiArICIsIiAuIGpvaW4gKCB2YWx1ZXMgKSArICIsIiArICIsIiAuIGpvaW4gKCBpZHMgKSArICIgRlJPTSAiICsgdGFibGUgKyAiIFdIRVJFICIgKyBpSWlJSUlJSTFJaTFpICsgKAogIiA9ID8gYW5kICIgLiBqb2luICggaWRzICkgKyAiPT8iICkgKyAiIG9yZGVyIGJ5ICIgKyAiLCIgLiBqb2luICggb3JkZXIgKSArIG9vT08wb28gLCBpZHNfdmFsdWUgKQogSWkxaUkxaTFpSTFpSSA9IE9vMG9vTzAwIC4gZmV0Y2hhbGwgKCApCiBPbzBPMG9PbyAuIGNsb3NlICggKQogcmV0dXJuIElpMWlJMWkxaUkxaUkKIGlmIDM5IC0gMzk6IElpICsgSWkKZGVmIGlJMW9Pb08wT09vMCAoIGxpbiAsIHRpdCAsIGlkICwgdHlwZSApIDoKIGl0aGlsIC4gSWlpSTFJMUkxaUlpSSAoIGxpbiAsIHRpdCAsIGlpSSAsIGlkICwgdHlwZSApCiBpZiA4MiAtIDgyOiBpSWkxMSAlIGlJaTExIC4gaWkxSTFpaTFJaUlpMSAtIElJSUkKIGlmIDMzIC0gMzM6IG9vb09vTyAvIElJSUkgLiBpMWlJMSAuIEkxSWlJMUlJSTExaQpkZWYgT09vME8gKCBwYXJhbXN0cmluZyApIDoKIG9PT08wMG8wT09PID0gZGljdCAoIHBhcnNlX3FzbCAoIHBhcmFtc3RyaW5nICkgKQogaWYgb09PTzAwbzBPT08gOgogIGlmIG9PT08wMG8wT09PIFsgbzBPMG9PMCBdID09IG8wMCA6CiAgIElJSUlvbyAoICc9PScgLCAnZ2VuZXJhbCcgLCBvT09PMDBvME9PTyApCiAgZWxpZiBvT09PMDBvME9PTyBbIG8wTzBvTzAgXSA9PSAnc2VyaWVzX2RpYnVqb3MnIDoKICAgSUlJSW9vICggJz09JyAsICdkaWJ1am9zJyAsIG9PT08wMG8wT09PICkKICBlbGlmIG9PT08wMG8wT09PIFsgbzBPMG9PMCBdID09ICdzZXJpZXNfcmV0cm8nIDoKICAgSUlJSW9vICggJz09JyAsICdyZXRybycgLCBvT09PMDBvME9PTyApCiAgZWxpZiBvT09PMDBvME9PTyBbIG8wTzBvTzAgXSA9PSAndGVsZW5vdmVsYXMnIDoKICAgSUlJSW9vICggJz09JyAsICd0ZWxlbm92ZWxhJyAsIG9PT08wMG8wT09PICkKICBlbGlmIG9PT08wMG8wT09PIFsgbzBPMG9PMCBdID09ICdzZXJpZXNfYW5pbWUnIDoKICAgSUlJSW9vICggJz09JyAsICdhbmltZScgLCBvT09PMDBvME9PTyApCiAgZWxpZiBvT09PMDBvME9PTyBbIG8wTzBvTzAgXSA9PSAnc2VhcmNoU2VyaWUnIDoKICAgSTFJSTFJSWlpaSAoIG8wTzBvICwgJ3NlcmllcycgKQogIGVsaWYgb09PTzAwbzBPT08gWyBvME8wb08wIF0gPT0gJ3NlYXJjaFBlbGknIDoKICAgSTFJSTFJSWlpaSAoIEkxSTFpICwgJ3BlbGlzJyApCiAgZWxpZiBvT09PMDBvME9PTyBbIG8wTzBvTzAgXSA9PSAnc2VyaWVzQnlMYW5nJyA6CiAgIGlmICdsYW5nJyBpbiBvT09PMDBvME9PTyA6CiAgICBpMWkxSUlpSWkgKCBvT09PMDBvME9PTyBbICdsYW5nJyBdICkKICAgZWxzZSA6CiAgICBpMWkxSUlpSWkgKCApCiAgZWxpZiBvT09PMDBvME9PTyBbIG8wTzBvTzAgXSA9PSAnc2VyaWVzQnlBWicgOgogICBpZiAnbGV0cmEnIGluIG9PT08wMG8wT09PIDoKICAgIE9PT09Pb08wb28wb28wMCAoIG9PT08wMG8wT09PIFsgJ2xldHJhJyBdICwgJ3NlcmllJyApCiAgIGVsc2UgOgogICAgT09PT09vTzBvbzBvbzAwICggdHlwZSA9ICdzZXJpZScgKQogIGVsaWYgb09PTzAwbzBPT08gWyBvME8wb08wIF0gPT0gJ3Nlcmllc19tYXNfdmlzdGFzJyA6CiAgIE9vb08wT09vMCAoICJ2aWV3cyIgKQogIGVsaWYgb09PTzAwbzBPT08gWyBvME8wb08wIF0gPT0gJ3Nlcmllc19tYXNfdmlzdGFzX21lcycgOgogICBPb29PME9PbzAgKCAibGFzdF9tb250aF92aWV3cyIgKQogIGVsaWYgb09PTzAwbzBPT08gWyBvME8wb08wIF0gPT0gJ3BlbGlzX21hc192aXN0YXMnIDoKICAgaUlJMWlJSWlJaTExSSAoIFsgJ3ZpZXdzIGRlc2MnIF0gLCB7ICdzcWxfbGltaXQnIDogJyBsaW1pdCAyMDAnICwgJ2Fubm8nIDogJ3RydWUnICwgInB1bnRvcyIgOiAidHJ1ZSIgfSApCiAgZWxpZiBvT09PMDBvME9PTyBbIG8wTzBvTzAgXSA9PSAncGVsaXNfbWFzX3Zpc3Rhc19tZXMnIDoKICAgaUlJMWlJSWlJaTExSSAoIFsgJ2xhc3RfbW9udGhfdmlld3MgZGVzYycgXSAsIHsgJ3NxbF9saW1pdCcgOiAnIGxpbWl0IDIwMCcgLCAnYW5ubycgOiAndHJ1ZScgLCAicHVudG9zIiA6ICJ0cnVlIiB9ICkKICBlbGlmIG9PT08wMG8wT09PIFsgbzBPMG9PMCBdID09ICd1bHRpbWFzX3NlcmllcycgOgogICBvME9vMG9vMDAgKCBvME8wbyAsICdzZXJpZXMnICkKICBlbGlmIG9PT08wMG8wT09PIFsgbzBPMG9PMCBdID09ICd1bHRpbWFzX3BlbGlzJyA6CiAgIG8wMG9PT09vT09vME8gKCBbICdQZWxpY3VsYScgXSAsIFsgJ3VwZGF0ZWQgZGVzYycgLCAnYW5ubyBkZXNjJyBdICwgeyAnc3FsX2xpbWl0JyA6ICcgbGltaXQgMjAwJyAsICdhbm5vJyA6ICd0cnVlJyAsICdkYXRlJyA6ICd0cnVlJyAsICdwdW50b3MnIDogJ3RydWUnIH0gKQogIGVsaWYgb09PTzAwbzBPT08gWyBvME8wb08wIF0gPT0gJ3NlcmllJyA6CiAgIElpSUkxMWkgKCBvT09PMDBvME9PTyBbICdzZXJpZV9pZCcgXSApCiAgZWxpZiBvT09PMDBvME9PTyBbIG8wTzBvTzAgXSA9PSAnYWRkZmF2JyA6CiAgIEkxMUlJaWkxSSAoIG9PT08wMG8wT09PICkKICBlbGlmIG9PT08wMG8wT09PIFsgbzBPMG9PMCBdID09ICdybWZhdicgOgogICBpaWkxaUlJSTExMTFJICggb09PTzAwbzBPT08gKQogIGVsaWYgb09PTzAwbzBPT08gWyBvME8wb08wIF0gPT0gJ2xpc3RmYXYnIDoKICAgTzBPMDBPME8gKCApCiAgZWxpZiBvT09PMDBvME9PTyBbIG8wTzBvTzAgXSA9PSAndG9fdW53YXRjaCcgOgogICBJaUkgKCBvT09PMDBvME9PTyBbICdpZEZpbGUnIF0gLCBvT09PMDBvME9PTyBbICdpZFBhdGgnIF0gLCBvT09PMDBvME9PTyBbICdmaWxlTmFtZScgXSAsIEZhbHNlICkKICBlbGlmIG9PT08wMG8wT09PIFsgbzBPMG9PMCBdID09ICd0b193YXRjaCcgOgogICBJaUkgKCBvT09PMDBvME9PTyBbICdpZEZpbGUnIF0gLCBvT09PMDBvME9PTyBbICdpZFBhdGgnIF0gLCBvT09PMDBvME9PTyBbICdmaWxlTmFtZScgXSAsIFRydWUgKQogIGVsaWYgb09PTzAwbzBPT08gWyBvME8wb08wIF0gPT0gJ3ZpZXdfc2VyaWUnIDoKICAgb09PbzBPMCAoIG9PT08wMG8wT09PIFsgJ3NlcmllX2lkJyBdICkKICBlbGlmIG9PT08wMG8wT09PIFsgbzBPMG9PMCBdID09ICd2aWV3X3RlbXAnIDoKICAgb08wMG9PbyAoIG9PT08wMG8wT09PIFsgJ3NlcmllX2lkJyBdICwgb09PTzAwbzBPT08gWyAndGVtcF9pZCcgXSApCiAgZWxpZiBvT09PMDBvME9PTyBbIG8wTzBvTzAgXSA9PSAnbGlzdF90ZW1wJyA6CiAgIE9Pb09Pb09PME9PMCAoIG9PT08wMG8wT09PIFsgJ3NlcmllX2lkJyBdICwgb09PTzAwbzBPT08gWyAndGVtcF9pZCcgXSAsIG9PT08wMG8wT09PIFsgJ2NhcmF0dWxhJyBdICwgb09PTzAwbzBPT08gWyAncG9zdGVyJyBdICkKICBlbGlmIG9PT08wMG8wT09PIFsgbzBPMG9PMCBdID09ICdwbGF5JyA6CiAgIGlJMW9Pb08wT09vMCAoIG9PT08wMG8wT09PIFsgJ2xpbicgXSAsIG9PT08wMG8wT09PIFsgJ3RpdCcgXSAsIG9PT08wMG8wT09PIFsgJ2lkJyBdICwgb09PTzAwbzBPT08gWyAndHlwZScgXSApCiAgZWxpZiBvT09PMDBvME9PTyBbICdhY3Rpb24nIF0gPT0gJ2FueW8nIDoKICAgSTFpSTFJMWkgKCAnYW55b19kZXRhaWwnICkKICBlbGlmIG9PT08wMG8wT09PIFsgJ2FjdGlvbicgXSA9PSAnYW55b19kZXRhaWwnIDoKICAgaWkxaWlpMWkxMSAoIG9PT08wMG8wT09PIFsgJ2Fubm8nIF0gLCBbICdub21icmUgYXNjJyBdICwgeyAicHVudG9zIiA6ICJ0cnVlIiB9ICkKICBlbGlmIG9PT08wMG8wT09PIFsgJ2FjdGlvbicgXSA9PSAndWx0aW1hc19wZWxpc19hbnlvJyA6CiAgIE8wT29vMDAwbyAoICkKICBlbGlmIG9PT08wMG8wT09PIFsgJ2FjdGlvbicgXSA9PSAndWx0aW1hc19wZWxpc19hbnlvX2RldGFpbCcgOgogICBpaTFpaWkxaTExICggb09PTzAwbzBPT08gWyAnYW5ubycgXSAsIFsgJ3VwZGF0ZWQgZGVzYycgXSAsIHsgJ3NxbF9saW1pdCcgOiAnIGxpbWl0IDIwMCcgLCAnZGF0ZScgOiAndHJ1ZScgLCAicHVudG9zIiA6ICJ0cnVlIiB9ICkKICBlbGlmIG9PT08wMG8wT09PIFsgJ2FjdGlvbicgXSA9PSAnYW55b190b3AnIDoKICAgSTFpSTFJMWkgKCAnYW55b190b3BfZGV0YWlsJyAsICcgd2hlcmUgcHVudG9zID4gMCAnICkKICBlbGlmIG9PT08wMG8wT09PIFsgJ2FjdGlvbicgXSA9PSAnYW55b190b3BfZGV0YWlsJyA6CiAgIGlpMWlpaTFpMTEgKCBvT09PMDBvME9PTyBbICdhbm5vJyBdICwgWyAncHVudG9zIGRlc2MnICwgJ25vbWJyZSBhc2MnIF0gLCB7ICdzcWxfbGltaXQnIDogJyBsaW1pdCAyMDAnICwgInNxbF9jb25kIiA6ICIgcHVudG9zID4gMCAiICwgInB1bnRvcyIgOiAidHJ1ZSIgfSApCiAgZWxpZiBvT09PMDBvME9PTyBbICdhY3Rpb24nIF0gPT0gJ3NhZ2FzJyA6CiAgIG8wbzBPMDBvT28gKCApCiAgZWxpZiBvT09PMDBvME9PTyBbICdhY3Rpb24nIF0gPT0gJ3NhZ2FfZGV0YWlsJyA6CiAgIGlJMWkgKCBvT09PMDBvME9PTyBbICdzYWdhJyBdICwgeyAnYW5ubycgOiAndHJ1ZScgLCAicHVudG9zIiA6ICJ0cnVlIiB9ICkKICBlbGlmIG9PT08wMG8wT09PIFsgJ2FjdGlvbicgXSA9PSAnbGlzdF9nZW5lcm9zJyA6CiAgIGlJaWkxSSAoICkKICBlbGlmIG9PT08wMG8wT09PIFsgJ2FjdGlvbicgXSA9PSAnZ2VuZXJvX2RldGFpbCcgOgogICBpMUlpICggb09PTzAwbzBPT08gWyAnZ2VuZXJvJyBdICwgeyAnYW5ubycgOiAndHJ1ZScgLCAicHVudG9zIiA6ICJ0cnVlIiB9ICkKICBlbGlmIG9PT08wMG8wT09PIFsgbzBPMG9PMCBdID09ICdwZWxpX2luZicgOgogICBvMDBvT09Pb09PbzBPICggWyAnRGlidWpvcycgXSAsIFsgJ25vbWJyZScgXSAsIHsgInB1bnRvcyIgOiAidHJ1ZSIgLCAnYW5ubycgOiAndHJ1ZScgfSApCiAgZWxpZiBvT09PMDBvME9PTyBbIG8wTzBvTzAgXSA9PSAndG9wX3BlbGlfaW5mJyA6CiAgIG8wMG9PT09vT09vME8gKCBbICdEaWJ1am9zJyBdICwgWyAncHVudG9zIGRlc2MnICwgJ25vbWJyZSBhc2MnIF0gLCB7ICdzcWxfbGltaXQnIDogJyBsaW1pdCAyMDAnICwgJ2Fubm8nIDogJ3RydWUnICwgInB1bnRvcyIgOiAidHJ1ZSIgfSApCiAgZWxpZiBvT09PMDBvME9PTyBbIG8wTzBvTzAgXSA9PSAncGVsaXNCeUFaJyA6CiAgIGlmICdsZXRyYScgaW4gb09PTzAwbzBPT08gOgogICAgT09PT09vTzBvbzBvbzAwICggb09PTzAwbzBPT08gWyAnbGV0cmEnIF0gLCAncGVsaScgKQogICBlbHNlIDoKICAgIE9PT09Pb08wb28wb28wMCAoIHR5cGUgPSAncGVsaScgKQogIGVsaWYgb09PTzAwbzBPT08gWyBvME8wb08wIF0gPT0gJ2xhc3RfcGVsaV9pbmYnIDoKICAgbzAwb09PT29PT28wTyAoIFsgJ0RpYnVqb3MnIF0gLCBbICd1cGRhdGVkIGRlc2MnICwgJ2Fubm8gZGVzYycgXSAsIHsgJ3NxbF9saW1pdCcgOiAnIGxpbWl0IDIwMCcgLCAnYW5ubycgOiAndHJ1ZScgLCAnZGF0ZScgOiAndHJ1ZScgLCAicHVudG9zIiA6ICJ0cnVlIiB9ICkKICBlbGlmIG9PT08wMG8wT09PIFsgbzBPMG9PMCBdID09ICdzZXJpZXNfbWVudScgOgogICBJaUlpSSAoIE9PT28wMG9vbzBPbyAoICdTZXJpZXMnICkgKQogIGVsaWYgb09PTzAwbzBPT08gWyBvME8wb08wIF0gPT0gJ3BlbGlzX21lbnUnIDoKICAgSWlJaUkgKCBPT09vMDBvb28wT28gKCAnUGVsaXMnICkgKQogIGVsaWYgb09PTzAwbzBPT08gWyBvME8wb08wIF0gPT0gJ2RpYnVqb3NfbWVudScgOgogICBJaUlpSSAoIE9PT28wMG9vbzBPbyAoICdEaWJ1am9zJyApICkKIGVsc2UgOgogIGlmIDY5IC0gNjk6IE9Pb09vTzBvMG8wT08gLSBpaUlJaTFpMUlpaSAtIG8wMG9PMG9vME8wTzAgLSBJSUlJCiAgSWlJaUkgKCBPT09vMDBvb28wT28gKCAiZGVmYXVsIiApICkKICBpZiAxNyAtIDE3OiBpaTFJMWlpMUlpSWkxIC0gb29vT29PIC0gSTFJaUkxSUlJMTFpICsgSTEgKyBJaQogIGlmIDUyIC0gNTI6IElJICUgSTEgJSBpaUlJaTFpMUlpaSAuIGlJaTExICUgSWkxSSAqIG9vCmlmIF9fbmFtZV9fID09ICdfX21haW5fXycgOgogT09vME8gKCBzeXMgLiBhcmd2IFsgMiBdIFsgMSA6IF0gKQogaWYgODEgLSA4MTogSWlJSTFpMUkgJSBJaTFJCiBpZiA4IC0gODogSUkgKyBpaTFJMWlpMUlpSWkxICUgSUlJSSAqIElpSUkxSWlJIC4gb29Pb29PME9PTwogaWYgOTEgLSA5MTogSUkgKyBpMWlJMSAqIE9PTwogaWYgNDkgLSA0OTogb29Pb29PME9PTwojIDgwN2NiMWJmZmZiMjM0ZGFjZTNmOTMwZjU3MWE5MDM5ZDc2ZjRjZjkK')